{
    "slots": {
        "0": {
            "name": "slot1",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "1": {
            "name": "slot2",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "2": {
            "name": "slot3",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "3": {
            "name": "slot4",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "4": {
            "name": "slot5",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "5": {
            "name": "slot6",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "6": {
            "name": "slot7",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "7": {
            "name": "slot8",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "8": {
            "name": "slot9",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "9": {
            "name": "slot10",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "-1": {
            "name": "unit",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "-3": {
            "name": "player",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "-2": {
            "name": "construct",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "-4": {
            "name": "system",
            "type": {
                "events": [],
                "methods": []
            }
        },
        "-5": {
            "name": "library",
            "type": {
                "events": [],
                "methods": []
            }
        }
    },
    "handlers": [{
            "code": "_G.BuildScreen.MouseDown(x, y, slot1)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }, {
                        "variable": "*"
                    }
                ],
                "signature": "mouseDown(x,y)",
                "slotKey": "0"
            },
            "key": "0"
        }, {
            "code": "_G.BuildScreen.MouseUp(x, y, slot1)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }, {
                        "variable": "*"
                    }
                ],
                "signature": "mouseUp(x,y)",
                "slotKey": "0"
            },
            "key": "1"
        }, {
            "code": "_G.BuildScreen.MouseDown(x, y, slot7)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }, {
                        "variable": "*"
                    }
                ],
                "signature": "mouseDown(x,y)",
                "slotKey": "6"
            },
            "key": "2"
        }, {
            "code": "_G.BuildScreen.MouseUp(x, y, slot7)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }, {
                        "variable": "*"
                    }
                ],
                "signature": "mouseUp(x,y)",
                "slotKey": "6"
            },
            "key": "3"
        }, {
            "code": "_G.BuildScreen.MouseDown(x, y, slot8)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }, {
                        "variable": "*"
                    }
                ],
                "signature": "mouseDown(x,y)",
                "slotKey": "7"
            },
            "key": "4"
        }, {
            "code": "_G.BuildScreen.MouseUp(x, y, slot8)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }, {
                        "variable": "*"
                    }
                ],
                "signature": "mouseUp(x,y)",
                "slotKey": "7"
            },
            "key": "5"
        }, {
            "code": "_G.BuildScreen.MouseDown(x, y, slot9)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }, {
                        "variable": "*"
                    }
                ],
                "signature": "mouseDown(x,y)",
                "slotKey": "8"
            },
            "key": "6"
        }, {
            "code": "_G.BuildScreen.MouseUp(x, y, slot9)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }, {
                        "variable": "*"
                    }
                ],
                "signature": "mouseUp(x,y)",
                "slotKey": "8"
            },
            "key": "7"
        }, {
            "code": "--@class Atlas\nfunction Atlas()return{[0]={[2]={name=\"Alioth\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.9401,atmosphericEngineMaxAltitude=5580,biosphere=\"Forest\",classification=\"Mesoplanet\",bodyId=2,GM=157470826617,gravity=1.0082568597356114,fullAtmosphericDensityMaxAltitude=-10,habitability=\"High\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=6272,numSatellites=2,positionFromSun=2,center={x=-8,y=-8,z=-126303},radius=126067.8984375,safeAreaEdgeAltitude=500000,size=\"M\",spaceEngineMinAltitude=3410,surfaceArea=199718780928,surfaceAverageAltitude=200,surfaceMaxAltitude=1100,surfaceMinAltitude=-330,systemZone=\"High\",territories=259472,type=\"Planet\",waterLevel=0,planetarySystemId=0},[21]={name=\"Alioth Moon 1\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=21,GM=2118960000,gravity=0.24006116402380084,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=457933,y=-1509011,z=115524},radius=30000,safeAreaEdgeAltitude=500000,size=\"M\",spaceEngineMinAltitude=0,surfaceArea=11309733888,surfaceAverageAltitude=140,surfaceMaxAltitude=200,surfaceMinAltitude=10,systemZone=nil,territories=14522,type=\"\",waterLevel=nil,planetarySystemId=0},[22]={name=\"Alioth Moon 4\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=22,GM=2165833514,gravity=0.2427018259886451,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=-1692694,y=729681,z=-411464},radius=30330,safeAreaEdgeAltitude=500000,size=\"L\",spaceEngineMinAltitude=0,surfaceArea=11559916544,surfaceAverageAltitude=-15,surfaceMaxAltitude=-5,surfaceMinAltitude=-50,systemZone=nil,territories=14522,type=\"\",waterLevel=nil,planetarySystemId=0},[5]={name=\"Feli\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.5488,atmosphericEngineMaxAltitude=66725,biosphere=\"Barren\",classification=\"Mesoplanet\",bodyId=5,GM=16951680000,gravity=0.4801223280476017,fullAtmosphericDensityMaxAltitude=30,habitability=\"Low\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=78500,numSatellites=1,positionFromSun=5,center={x=-43534464,y=22565536,z=-48934464},radius=41800,safeAreaEdgeAltitude=500000,size=\"S\",spaceEngineMinAltitude=42800,surfaceArea=21956466688,surfaceAverageAltitude=18300,surfaceMaxAltitude=18500,surfaceMinAltitude=46,systemZone=\"Low\",territories=27002,type=\"Planet\",waterLevel=nil,planetarySystemId=0},[50]={name=\"Feli Moon 1\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=50,GM=499917600,gravity=0.11202853997062348,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=-43902841.78,y=22261034.7,z=-48862386},radius=14000,safeAreaEdgeAltitude=500000,size=\"S\",spaceEngineMinAltitude=0,surfaceArea=2463008768,surfaceAverageAltitude=800,surfaceMaxAltitude=900,surfaceMinAltitude=0,systemZone=nil,territories=3002,type=\"\",waterLevel=nil,planetarySystemId=0},[120]={name=\"Ion\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.9522,atmosphericEngineMaxAltitude=10480,biosphere=\"Ice\",classification=\"Hypopsychroplanet\",bodyId=120,GM=7135606629,gravity=0.36009174603570127,fullAtmosphericDensityMaxAltitude=-30,habitability=\"Average\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=17700,numSatellites=2,positionFromSun=12,center={x=2865536.7,y=-99034464,z=-934462.02},radius=44950,safeAreaEdgeAltitude=500000,size=\"XS\",spaceEngineMinAltitude=6410,surfaceArea=25390383104,surfaceAverageAltitude=500,surfaceMaxAltitude=1300,surfaceMinAltitude=250,systemZone=\"Average\",territories=32672,type=\"Planet\",waterLevel=nil,planetarySystemId=0},[121]={name=\"Ion Moon 1\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=121,GM=106830900,gravity=0.08802242599860607,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=2472916.8,y=-99133747,z=-1133582.8},radius=11000,safeAreaEdgeAltitude=500000,size=\"XS\",spaceEngineMinAltitude=0,surfaceArea=1520530944,surfaceAverageAltitude=100,surfaceMaxAltitude=200,surfaceMinAltitude=3,systemZone=nil,territories=1922,type=\"\",waterLevel=nil,planetarySystemId=0},[122]={name=\"Ion Moon 2\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=122,GM=176580000,gravity=0.12003058201190042,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=2995424.5,y=-99275010,z=-1378480.7},radius=15000,safeAreaEdgeAltitude=500000,size=\"XS\",spaceEngineMinAltitude=0,surfaceArea=2827433472,surfaceAverageAltitude=-1900,surfaceMaxAltitude=-1400,surfaceMinAltitude=-2100,systemZone=nil,territories=3632,type=\"\",waterLevel=nil,planetarySystemId=0},[9]={name=\"Jago\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.9835,atmosphericEngineMaxAltitude=9695,biosphere=\"Water\",classification=\"Mesoplanet\",bodyId=9,GM=18606274330,gravity=0.5041284298678057,fullAtmosphericDensityMaxAltitude=-90,habitability=\"Very High\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=10900,numSatellites=0,positionFromSun=9,center={x=-94134462,y=12765534,z=-3634464},radius=61590,safeAreaEdgeAltitude=500000,size=\"XL\",spaceEngineMinAltitude=5900,surfaceArea=47668367360,surfaceAverageAltitude=0,surfaceMaxAltitude=1200,surfaceMinAltitude=-500,systemZone=\"Very High\",territories=60752,type=\"Planet\",waterLevel=0,planetarySystemId=0},[100]={name=\"Lacobus\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.7571,atmosphericEngineMaxAltitude=11120,biosphere=\"Ice\",classification=\"Psychroplanet\",bodyId=100,GM=13975172474,gravity=0.45611622622739767,fullAtmosphericDensityMaxAltitude=-20,habitability=\"Average\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=12510,numSatellites=3,positionFromSun=10,center={x=98865536,y=-13534464,z=-934461.99},radius=55650,safeAreaEdgeAltitude=500000,size=\"M\",spaceEngineMinAltitude=6790,surfaceArea=38917074944,surfaceAverageAltitude=800,surfaceMaxAltitude=1660,surfaceMinAltitude=250,systemZone=\"Average\",territories=50432,type=\"Planet\",waterLevel=0,planetarySystemId=0},[102]={name=\"Lacobus Moon 1\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=102,GM=444981600,gravity=0.14403669598391783,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=99180968,y=-13783862,z=-926156.4},radius=18000,safeAreaEdgeAltitude=500000,size=\"XL\",spaceEngineMinAltitude=0,surfaceArea=4071504128,surfaceAverageAltitude=150,surfaceMaxAltitude=300,surfaceMinAltitude=10,systemZone=nil,territories=5072,type=\"\",waterLevel=nil,planetarySystemId=0},[103]={name=\"Lacobus Moon 2\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=103,GM=211503600,gravity=0.11202853997062348,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=99250052,y=-13629215,z=-1059341.4},radius=14000,safeAreaEdgeAltitude=500000,size=\"M\",spaceEngineMinAltitude=0,surfaceArea=2463008768,surfaceAverageAltitude=-1380,surfaceMaxAltitude=-1280,surfaceMinAltitude=-1880,systemZone=nil,territories=3002,type=\"\",waterLevel=nil,planetarySystemId=0},[101]={name=\"Lacobus Moon 3\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=101,GM=264870000,gravity=0.12003058201190042,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=98905288.17,y=-13950921.1,z=-647589.53},radius=15000,safeAreaEdgeAltitude=500000,size=\"L\",spaceEngineMinAltitude=0,surfaceArea=2827433472,surfaceAverageAltitude=500,surfaceMaxAltitude=820,surfaceMinAltitude=3,systemZone=nil,territories=3632,type=\"\",waterLevel=nil,planetarySystemId=0},[1]={name=\"Madis\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.8629,atmosphericEngineMaxAltitude=7165,biosphere=\"Barren\",classification=\"hyperthermoplanet\",bodyId=1,GM=6930729684,gravity=0.36009174603570127,fullAtmosphericDensityMaxAltitude=220,habitability=\"Low\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=8050,numSatellites=3,positionFromSun=1,center={x=17465536,y=22665536,z=-34464},radius=44300,safeAreaEdgeAltitude=500000,size=\"XS\",spaceEngineMinAltitude=4480,surfaceArea=24661377024,surfaceAverageAltitude=750,surfaceMaxAltitude=850,surfaceMinAltitude=670,systemZone=\"Low\",territories=30722,type=\"Planet\",waterLevel=nil,planetarySystemId=0},[10]={name=\"Madis Moon 1\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=10,GM=78480000,gravity=0.08002039003323584,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=17448118.224,y=22966846.286,z=143078.82},radius=10000,safeAreaEdgeAltitude=500000,size=\"XL\",spaceEngineMinAltitude=0,surfaceArea=1256637056,surfaceAverageAltitude=210,surfaceMaxAltitude=420,surfaceMinAltitude=0,systemZone=nil,territories=1472,type=\"\",waterLevel=nil,planetarySystemId=0},[11]={name=\"Madis Moon 2\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=11,GM=237402000,gravity=0.09602446196397631,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=17194626,y=22243633.88,z=-214962.81},radius=12000,safeAreaEdgeAltitude=500000,size=\"S\",spaceEngineMinAltitude=0,surfaceArea=1809557376,surfaceAverageAltitude=-700,surfaceMaxAltitude=300,surfaceMinAltitude=-2900,systemZone=nil,territories=1922,type=\"\",waterLevel=nil,planetarySystemId=0},[12]={name=\"Madis Moon 3\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=12,GM=265046609,gravity=0.12003058201190042,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=17520614,y=22184730,z=-309989.99},radius=15000,safeAreaEdgeAltitude=500000,size=\"S\",spaceEngineMinAltitude=0,surfaceArea=2827433472,surfaceAverageAltitude=700,surfaceMaxAltitude=1100,surfaceMinAltitude=0,systemZone=nil,territories=3632,type=\"\",waterLevel=nil,planetarySystemId=0},[26]={name=\"Sanctuary\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.9666,atmosphericEngineMaxAltitude=6935,biosphere=\"\",classification=\"\",bodyId=26,GM=68234043600,gravity=1.0000000427743831,fullAtmosphericDensityMaxAltitude=-30,habitability=\"\",hasAtmosphere=True,isSanctuary=True,noAtmosphericDensityAltitude=7800,numSatellites=0,positionFromSun=0,center={x=-1404835,y=562655,z=-285074},radius=83400,safeAreaEdgeAltitude=0,size=\"L\",spaceEngineMinAltitude=4230,surfaceArea=87406149632,surfaceAverageAltitude=80,surfaceMaxAltitude=500,surfaceMinAltitude=-60,systemZone=nil,territories=111632,type=\"\",waterLevel=0,planetarySystemId=0},[6]={name=\"Sicari\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.897,atmosphericEngineMaxAltitude=7725,biosphere=\"Desert\",classification=\"Mesoplanet\",bodyId=6,GM=10502547741,gravity=0.4081039739797361,fullAtmosphericDensityMaxAltitude=-625,habitability=\"Average\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=8770,numSatellites=0,positionFromSun=6,center={x=52765536,y=27165538,z=52065535},radius=51100,safeAreaEdgeAltitude=500000,size=\"M\",spaceEngineMinAltitude=4480,surfaceArea=32813432832,surfaceAverageAltitude=130,surfaceMaxAltitude=220,surfaceMinAltitude=50,systemZone=\"Average\",territories=41072,type=\"Planet\",waterLevel=nil,planetarySystemId=0},[7]={name=\"Sinnen\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.9226,atmosphericEngineMaxAltitude=10335,biosphere=\"Desert\",classification=\"Mesoplanet\",bodyId=7,GM=13033380591,gravity=0.4401121421448438,fullAtmosphericDensityMaxAltitude=-120,habitability=\"Average\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=11620,numSatellites=1,positionFromSun=7,center={x=58665538,y=29665535,z=58165535},radius=54950,safeAreaEdgeAltitude=500000,size=\"S\",spaceEngineMinAltitude=6270,surfaceArea=37944188928,surfaceAverageAltitude=317,surfaceMaxAltitude=360,surfaceMinAltitude=23,systemZone=\"Average\",territories=48002,type=\"Planet\",waterLevel=nil,planetarySystemId=0},[70]={name=\"Sinnen Moon 1\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=70,GM=396912600,gravity=0.1360346539426409,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=58969616,y=29797945,z=57969449},radius=17000,safeAreaEdgeAltitude=500000,size=\"S\",spaceEngineMinAltitude=0,surfaceArea=3631681280,surfaceAverageAltitude=-2050,surfaceMaxAltitude=-1950,surfaceMinAltitude=-2150,systemZone=nil,territories=4322,type=\"\",waterLevel=nil,planetarySystemId=0},[110]={name=\"Symeon\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.9559,atmosphericEngineMaxAltitude=6920,biosphere=\"Ice, Desert\",classification=\"Hybrid\",bodyId=110,GM=9204742375,gravity=0.3920998898971822,fullAtmosphericDensityMaxAltitude=-30,habitability=\"High\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=7800,numSatellites=0,positionFromSun=11,center={x=14165536,y=-85634465,z=-934464.3},radius=49050,safeAreaEdgeAltitude=500000,size=\"S\",spaceEngineMinAltitude=4230,surfaceArea=30233462784,surfaceAverageAltitude=39,surfaceMaxAltitude=450,surfaceMinAltitude=126,systemZone=\"High\",territories=38882,type=\"Planet\",waterLevel=nil,planetarySystemId=0},[4]={name=\"Talemai\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.8776,atmosphericEngineMaxAltitude=9685,biosphere=\"Barren\",classification=\"Psychroplanet\",bodyId=4,GM=14893847582,gravity=0.4641182439650478,fullAtmosphericDensityMaxAltitude=-78,habitability=\"Average\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=10890,numSatellites=3,positionFromSun=4,center={x=-13234464,y=55765536,z=465536},radius=57500,safeAreaEdgeAltitude=500000,size=\"M\",spaceEngineMinAltitude=5890,surfaceArea=41547563008,surfaceAverageAltitude=580,surfaceMaxAltitude=610,surfaceMinAltitude=520,systemZone=\"Average\",territories=52922,type=\"Planet\",waterLevel=nil,planetarySystemId=0},[42]={name=\"Talemai Moon 1\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=42,GM=264870000,gravity=0.12003058201190042,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=-13058408,y=55781856,z=740177.76},radius=15000,safeAreaEdgeAltitude=500000,size=\"M\",spaceEngineMinAltitude=0,surfaceArea=2827433472,surfaceAverageAltitude=720,surfaceMaxAltitude=850,surfaceMinAltitude=0,systemZone=nil,territories=3632,type=\"\",waterLevel=nil,planetarySystemId=0},[40]={name=\"Talemai Moon 2\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=40,GM=141264000,gravity=0.09602446196397631,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=-13503090,y=55594325,z=769838.64},radius=12000,safeAreaEdgeAltitude=500000,size=\"S\",spaceEngineMinAltitude=0,surfaceArea=1809557376,surfaceAverageAltitude=250,surfaceMaxAltitude=450,surfaceMinAltitude=0,systemZone=nil,territories=1922,type=\"\",waterLevel=nil,planetarySystemId=0},[41]={name=\"Talemai Moon 3\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=41,GM=106830900,gravity=0.08802242599860607,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=-12800515,y=55700259,z=325207.84},radius=11000,safeAreaEdgeAltitude=500000,size=\"XS\",spaceEngineMinAltitude=0,surfaceArea=1520530944,surfaceAverageAltitude=190,surfaceMaxAltitude=400,surfaceMinAltitude=0,systemZone=nil,territories=1922,type=\"\",waterLevel=nil,planetarySystemId=0},[8]={name=\"Teoma\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.7834,atmosphericEngineMaxAltitude=5580,biosphere=\"Forest\",classification=\"Mesoplanet\",bodyId=8,GM=18477723600,gravity=0.48812434578525177,fullAtmosphericDensityMaxAltitude=15,habitability=\"High\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=6280,numSatellites=0,positionFromSun=8,center={x=80865538,y=54665536,z=-934463.94},radius=62000,safeAreaEdgeAltitude=500000,size=\"L\",spaceEngineMinAltitude=3420,surfaceArea=48305131520,surfaceAverageAltitude=700,surfaceMaxAltitude=1100,surfaceMinAltitude=-200,systemZone=\"High\",territories=60752,type=\"Planet\",waterLevel=0,planetarySystemId=0},[3]={name=\"Thades\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0.03552,atmosphericEngineMaxAltitude=32180,biosphere=\"Desert\",classification=\"Thermoplanet\",bodyId=3,GM=11776905000,gravity=0.49612641213015557,fullAtmosphericDensityMaxAltitude=150,habitability=\"Low\",hasAtmosphere=True,isSanctuary=False,noAtmosphericDensityAltitude=32800,numSatellites=2,positionFromSun=3,center={x=29165536,y=10865536,z=65536},radius=49000,safeAreaEdgeAltitude=500000,size=\"M\",spaceEngineMinAltitude=21400,surfaceArea=30171856896,surfaceAverageAltitude=13640,surfaceMaxAltitude=13690,surfaceMinAltitude=370,systemZone=\"Low\",territories=38882,type=\"Planet\",waterLevel=nil,planetarySystemId=0},[30]={name=\"Thades Moon 1\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=30,GM=211564034,gravity=0.11202853997062348,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=29214402,y=10907080.695,z=433858.2},radius=14000,safeAreaEdgeAltitude=500000,size=\"M\",spaceEngineMinAltitude=0,surfaceArea=2463008768,surfaceAverageAltitude=60,surfaceMaxAltitude=300,surfaceMinAltitude=0,systemZone=nil,territories=3002,type=\"\",waterLevel=nil,planetarySystemId=0},[31]={name=\"Thades Moon 2\",description=\"\",antiGravMinAltitude=1000,atmosphericDensityAboveSurface=0,atmosphericEngineMaxAltitude=0,biosphere=\"\",classification=\"\",bodyId=31,GM=264870000,gravity=0.12003058201190042,fullAtmosphericDensityMaxAltitude=0,habitability=\"\",hasAtmosphere=False,isSanctuary=False,noAtmosphericDensityAltitude=0,numSatellites=0,positionFromSun=0,center={x=29404193,y=10432768,z=19554.131},radius=15000,safeAreaEdgeAltitude=500000,size=\"M\",spaceEngineMinAltitude=0,surfaceArea=2827433472,surfaceAverageAltitude=70,surfaceMaxAltitude=350,surfaceMinAltitude=0,systemZone=nil,territories=3632,type=\"\",waterLevel=nil,planetarySystemId=0}}}end",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "8"
        }, {
            "code": "--@class PlanetRefMin\nfunction PlanetRef()local function a(b)return type(b)=='number'end;local function c(b)return type(tonumber(b))=='number'end;local function d(e)return type(e)=='table'end;local function f(g)return type(g)=='string'end;local function h(j)return d(j)and a(j.x and j.y and j.z)end;local function k(l)return d(l)and a(l.latitude and l.longitude and l.altitude and l.bodyId and l.systemId)end;local m=math.pi/180;local n=180/math.pi;local o=1e-10;local p=' *([+-]?%d+%.?%d*e?[+-]?%d*)'local q='::pos{'..p..','..p..','..p..','..p..','..p..'}'local r=require('cpml.utils')local s=require('cpml.vec3')local t=r.clamp;local function u(v,w)if v==0 then return math.abs(w)<1e-09 end;if w==0 then return math.abs(v)<1e-09 end;return math.abs(v-w)<math.max(math.abs(v),math.abs(w))*o end;local function x(b)local y=string.gsub(string.reverse(string.format('%.4f',b)),'^0*%.?','')return y==''and'0'or string.reverse(y)end;local function z(A)if h(A)then return string.format('{x=%.3f,y=%.3f,z=%.3f}',A.x,A.y,A.z)end;if d(A)and not getmetatable(A)then local B={}local C=next(A)if type(C)=='nil'or C==1 then B=A else for D,j in pairs(A)do local E=z(j)if type(D)=='number'then table.insert(B,string.format('[%s]=%s',D,E))else table.insert(B,string.format('%s=%s',D,E))end end end;return string.format('{%s}',table.concat(B,','))end;if f(A)then return string.format(\"'%s'\",A:gsub(\"'\",[[\\']]))end;return tostring(A)end;local F={}F.__index=F;F.__tostring=function(A,G)local H=G or''local I={}for D in pairs(A)do table.insert(I,D)end;table.sort(I)local B={}for J,D in ipairs(I)do local E=z(A[D])if type(D)=='number'then table.insert(B,string.format('[%s]=%s',D,E))else table.insert(B,string.format('%s=%s',D,E))end end;if G then return string.format('%s%s',G,table.concat(B,',\\n'..G))end;return string.format('{%s}',table.concat(B,','))end;F.__eq=function(K,L)return K.planetarySystemId==L.planetarySystemId and K.bodyId==L.bodyId and u(K.radius,L.radius)and u(K.center.x,L.center.x)and u(K.center.y,L.center.y)and u(K.center.z,L.center.z)and u(K.GM,L.GM)end;local function M(N,O,P,Q,R)assert(c(N),'Argument 1 (planetarySystemId) must be a number:'..type(N))assert(c(O),'Argument 2 (bodyId) must be a number:'..type(O))assert(c(P),'Argument 3 (radius) must be a number:'..type(P))assert(d(Q),'Argument 4 (worldCoordinates) must be a array or vec3.'..type(Q))assert(c(R),'Argument 5 (GM) must be a number:'..type(R))return setmetatable({planetarySystemId=tonumber(N),bodyId=tonumber(O),radius=tonumber(P),center=s(Q),GM=tonumber(R)},F)end;local S={}S.__index=S;S.__tostring=function(T)return string.format('::pos{%d,%d,%s,%s,%s}',T.systemId,T.bodyId,x(T.latitude*n),x(T.longitude*n),x(T.altitude))end;S.__eq=function(K,L)return K.bodyId==L.bodyId and K.systemId==L.systemId and u(K.latitude,L.latitude)and u(K.altitude,L.altitude)and(u(K.longitude,L.longitude)or u(K.latitude,math.pi/2)or u(K.latitude,-math.pi/2))end;local function U(V,O,W,X,Y)local N=V;if f(V)and not X and not Y and not O and not W then N,O,W,X,Y=string.match(V,q)assert(N,'Argument 1 (position string) is malformed.')else assert(c(N),'Argument 1 (systemId) must be a number:'..type(N))assert(c(O),'Argument 2 (bodyId) must be a number:'..type(O))assert(c(W),'Argument 3 (latitude) must be in degrees:'..type(W))assert(c(X),'Argument 4 (longitude) must be in degrees:'..type(X))assert(c(Y),'Argument 5 (altitude) must be in meters:'..type(Y))end;N=tonumber(N)O=tonumber(O)W=tonumber(W)X=tonumber(X)Y=tonumber(Y)if O==0 then return setmetatable({latitude=W,longitude=X,altitude=Y,bodyId=O,systemId=N},S)end;return setmetatable({latitude=m*t(W,-90,90),longitude=m*(X%360),altitude=Y,bodyId=O,systemId=N},S)end;local Z={}Z.__index=Z;Z.__tostring=function(A,G)local H=G and G..'  'local _={}local I={}for D in pairs(A)do table.insert(I,D)end;table.sort(I)for J,a0 in ipairs(I)do bdy=A[a0]local a1=F.__tostring(bdy,H)if G then table.insert(_,string.format('[%s]={\\n%s\\n%s}',a0,a1,G))else table.insert(_,string.format('  [%s]=%s',a0,a1))end end;if G then return string.format('\\n%s%s%s',G,table.concat(_,',\\n'..G),G)end;return string.format('{\\n%s\\n}',table.concat(_,',\\n'))end;local function a2(a3)local a4={}local a5;for J,j in pairs(a3)do local a6=j.planetarySystemId;if type(a6)~='number'then error('Invalid planetary system ID: '..tostring(a6))elseif a5 and a6~=a5 then error('Mismatch planetary system IDs: '..a6 ..' and '..a5)end;local a7=j.bodyId;if type(a7)~='number'then error('Invalid body ID: '..tostring(a7))elseif a4[a7]then error('Duplicate body ID: '..tostring(a7))end;setmetatable(j.center,getmetatable(s.unit_x))a4[a7]=setmetatable(j,F)a5=a6 end;return setmetatable(a4,Z)end;PlanetaryReference={}local function a8(a3)return setmetatable({galaxyAtlas=a3 or{}},PlanetaryReference)end;PlanetaryReference.__index=function(e,i)if type(i)=='number'then local a9=e.galaxyAtlas[i]return a2(a9)end;return rawget(PlanetaryReference,i)end;PlanetaryReference.__pairs=function(A)return function(e,D)local aa,nv=next(e,D)return aa,nv and a2(nv)end,A.galaxyAtlas,nil end;PlanetaryReference.__tostring=function(A)local ab={}for J,ac in pairs(A or{})do local ad=ac:getPlanetarySystemId()local ae=Z.__tostring(ac,'    ')table.insert(ab,string.format('  [%s]={%s\\n  }',ad,ae))end;return string.format('{\\n%s\\n}\\n',table.concat(ab,',\\n'))end;PlanetaryReference.BodyParameters=M;PlanetaryReference.MapPosition=U;PlanetaryReference.PlanetarySystem=a2;function PlanetaryReference.createBodyParameters(af,O,ag,ah,ai,aj,ak)assert(c(af),'Argument 1 (planetarySystemId) must be a number:'..type(af))assert(c(O),'Argument 2 (bodyId) must be a number:'..type(O))assert(c(ag),'Argument 3 (surfaceArea) must be a number:'..type(ag))assert(d(ah),'Argument 4 (aPosition) must be an array or vec3:'..type(ah))assert(d(ai),'Argument 5 (verticalAtPosition) must be an array or vec3:'..type(ai))assert(c(aj),'Argument 6 (altitude) must be in meters:'..type(aj))assert(c(ak),'Argument 7 (gravityAtPosition) must be number:'..type(ak))local P=math.sqrt(ag/4/math.pi)local al=P+aj;local am=s(ah)+al*s(ai)local R=ak*al*al;return M(af,O,P,am,R)end;PlanetaryReference.isMapPosition=k;function PlanetaryReference:getPlanetarySystem(V)if self.galaxyAtlas then local af=V;if k(V)then af=V.systemId end;if type(af)=='number'then local a9=self.galaxyAtlas[i]if a9 then if getmetatable(nv)~=Z then a9=a2(a9)end;return a9 end end end;return nil end;function Z:castIntersections(an,ao,ap,aq)local ap=ap or function(ar)return 1.05*ar.radius end;local as={}if aq then for J,i in ipairs(aq)do as[i]=self[i]end else aq={}for D,ar in pairs(self)do table.insert(aq,D)as[D]=ar end end;local function at(au,av)local aw=as[au].center-an;local ax=as[av].center-an;return aw:len()<ax:len()end;table.sort(aq,at)local ay=ao:normalize()for i,a6 in ipairs(aq)do local ar=as[a6]local az=ar.center-an;local P=ap(ar)local aA=az:dot(ay)local aB=aA^2-(az:len2()-P^2)if aB>=0 then local aC=math.sqrt(aB)local aD=aA+aC;local aE=aA-aC;if aE>0 then return ar,aD,aE elseif aD>0 then return ar,aD,nil end end end;return nil,nil,nil end;function Z:closestBody(aF)assert(type(aF)=='table','Invalid coordinates.')local aG,ar;local aH=s(aF)for J,aI in pairs(self)do local aJ=(aI.center-aH):len2()if not ar or aJ<aG then ar=aI;aG=aJ end end;return ar end;function Z:convertToBodyIdAndWorldCoordinates(V)local aK=V;if f(V)then aK=U(V)end;if aK.bodyId==0 then return 0,s(aK.latitude,aK.longitude,aK.altitude)end;local aI=self:getBodyParameters(aK)if aI then return aK.bodyId,aI:convertToWorldCoordinates(aK)end end;function Z:getBodyParameters(V)local O=V;if k(V)then O=V.bodyId end;assert(c(O),'Argument 1 (bodyId) must be a number:'..type(O))return self[O]end;function Z:getPlanetarySystemId()local D,j=next(self)return j and j.planetarySystemId end;function F:convertToMapPosition(Q)assert(d(Q),'Argument 1 (worldCoordinates) must be an array or vec3:'..type(Q))local aL=s(Q)if self.bodyId==0 then return setmetatable({latitude=aL.x,longitude=aL.y,altitude=aL.z,bodyId=0,systemId=self.planetarySystemId},S)end;local aM=aL-self.center;local al=aM:len()local Y=al-self.radius;local W=0;local X=0;if not u(al,0)then local aN=math.atan(aM.y,aM.x)X=aN>=0 and aN or 2*math.pi+aN;W=math.pi/2-math.acos(aM.z/al)end;return setmetatable({latitude=W,longitude=X,altitude=Y,bodyId=self.bodyId,systemId=self.planetarySystemId},S)end;function F:convertToWorldCoordinates(V)local aK=f(V)and U(V)or V;if aK.bodyId==0 then return s(aK.latitude,aK.longitude,aK.altitude)end;assert(k(aK),'Argument 1 (mapPosition) is not an instance of \"MapPosition\".')assert(aK.systemId==self.planetarySystemId,'Argument 1 (mapPosition) has a different planetary system ID.')assert(aK.bodyId==self.bodyId,'Argument 1 (mapPosition) has a different planetary body ID.')local aO=math.cos(aK.latitude)return self.center+(self.radius+aK.altitude)*s(aO*math.cos(aK.longitude),aO*math.sin(aK.longitude),math.sin(aK.latitude))end;function F:getAltitude(Q)return(s(Q)-self.center):len()-self.radius end;function F:getDistance(Q)return(s(Q)-self.center):len()end;function F:getGravity(Q)local aP=self.center-s(Q)local aQ=aP:len2()return self.GM/aQ*aP/math.sqrt(aQ)end;return setmetatable(PlanetaryReference,{__call=function(J,...)return a8(...)end})end",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "9"
        }, {
            "code": "--@class KinematicsMin\nfunction Kinematics()local a={}local b=30000000/3600;local c=b*b;local d=100;local function e(f)return 1/math.sqrt(1-f*f/c)end;function a.computeAccelerationTime(g,h,i)local j=b*math.asin(g/b)return(b*math.asin(i/b)-j)/h end;function a.computeDistanceAndTime(g,i,k,l,m,n)m=m or 0;n=n or 0;local o=e(g)local p=g<=i;local q=l*(p and 1 or-1)/k;local r=-n/k;local s=q+r;if p and s<=0 or not p and s>=0 then return-1,-1 end;local t,u=0,0;if q~=0 and m>0 then local j=math.asin(g/b)local v=math.pi*(q/2+r)local w=q*m;local x=b*math.pi;local f=function(y)local z=(v*y-w*math.sin(math.pi*y/2/m)+x*j)/x;local A=math.tan(z)return b*A/math.sqrt(A*A+1)end;local B=p and function(C)return C>=i end or function(C)return C<=i end;u=2*m;if B(f(u))then local D=0;while math.abs(u-D)>0.5 do local y=(u+D)/2;if B(f(y))then u=y else D=y end end end;local E=g;local F=u/d;for G=1,d do local H=f(G*F)t=t+(H+E)*F/2;E=H end;if u<2*m then return t,u end;g=E end;local j=b*math.asin(g/b)local I=(b*math.asin(i/b)-j)/s;local J=c*math.cos(j/b)/s;local K=J-c*math.cos((s*I+j)/b)/s;return K+t,I+u end;function a.computeTravelTime(g,h,K)if K==0 then return 0 end;if h>0 then local j=b*math.asin(g/b)local J=c*math.cos(j/b)/h;return(b*math.acos(h*(J-K)/c)-j)/h end;assert(g>0,'Acceleration and initial speed are both zero.')return K/g end;function a.lorentz(f)return e(f)end;return a end",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "10"
        }, {
            "code": "--@class SimpleSlotDetector\ncore = nil\nantigrav = nil\nwarpDrive = nil\nradarUnit = nil\nflightModeDb = nil\nmanualSwitches = {}\nforceFields = {}\nlaser = nil\nscreen = nil\nsettingsActive = false\nemitter = nil\ntelemeters = {}\nhovers = {}\nfrontTel = nil\nrearTel = nil\n\nfunction getElements()\n  for k,var in pairs(_G) do\n    if type(var) == \"table\" and var[\"getElementClass\"] then\n      local class = var[\"getElementClass\"]()\n      system.print(class)\n      if class == \"CoreUnitDynamic\" or class == \"CoreUnitStatic\" or class == \"CoreUnitSpace\" then\n        core = var\n      end\n      \n      if class == \"AtmoFuelContainer\" or class == \"SpaceFuelContainer\" then\n        var.show()\n      end\n      \n      if class == \"WarpDriveUnit\" then\n        warpDrive = var\n        var.show()\n      end\n      \n      if class == \"RadarPvPAtmospheric\" or class == \"RadarPvPSpace\" then\n        radarUnit = var\n        var.show()\n      end\n      \n      if class == \"DataBankUnit\" then\n        flightModeDb = var\n      end\n      \n      if class == \"AntiGravityGeneratorUnit\" then\n        antigrav = var\n      end\n      if class == \"ManualSwitchUnit\" then\n        --manualSwitch = var\n        \n        table.insert(manualSwitches, var)\n      end\n      if class == \"ForceFieldUnit\" then\n        table.insert(forceFields, var)\n      end\n      if class == \"ScreenUnit\" then\n        screen = var\n      end\n      if class == \"LaserEmitterUnit\" then\n        laser = var\n        --table.insert(lasers, var)\n      end\n      if class == \"EmitterUnit\" then\n        emitter = var\n      end\n      if class == \"TelemeterUnit\" then\n        table.insert(telemeters, var)\n      end\n      if class == \"AtmosphericVerticalBoosterMediumGroup\" then\n        table.insert(hovers, var)\n      end\n    end\n  end\nend\n\ngetElements()\n\nlocal tel1Pos = vec3(core.getElementPositionById(hovers[1].getId()))\nlocal tel2Pos = vec3(core.getElementPositionById(hovers[2].getId()))\n--system.print(\"frontTelPos: \"..tostring(vec3(tel1Pos))..\" | rearTelDist: \"..tostring(vec3(tel2Pos)))\nif tel1Pos.y > tel2Pos.y then\n  frontTel = hovers[1]\n  rearTel = hovers[2]\nelse\n  frontTel = hovers[2]\n  rearTel = hovers[1]\nend\n\n--system.print(\"frontTel: \"..frontTel.getDistance()..\" rearTel: \"..rearTel.getDistance())\nsystem.print(\"Front: \"..tostring(vec3(core.getElementPositionById(frontTel.getId()))))\nsystem.print(\"Rear: \"..tostring(vec3(core.getElementPositionById(rearTel.getId()))))\n",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "11"
        }, {
            "code": "--@class EventDelegateMin\nfunction EventDelegate()local a={}a.Delegates={}function a.Add(b)if type(b)~=\"function\"then error(\"[EventDelegate] Unable to add callback - not a function\")return end;for c=1,#a.Delegates do if a.Delegates[c]==b then return false end end;table.insert(a.Delegates,b)return true end;function a.Remove(b)if type(b)~=\"function\"then error(\"[EventDelegate] Unable to remove callback - not a function\")return end;for c=1,#a.Delegates do if a.Delegates[c]==b then table.remove(a.Delegates,c)return true end end;return false end;function a.Call(...)for c=1,#a.Delegates do a.Delegates[c](...)end end;function a.Count()return#a.Delegates end;setmetatable(a,{__call=function(d,...)a.Call(...)end,__add=function(e,f)if e==a then a.Add(f)return a end;if f==a then a.Add(e)return a end;return a end,__sub=function(e,f)if e==a then a.Remove(f)return a end;if f==a then a.Remove(e)return a end;return a end,__tostring=function()return\"EventDelegate(#\"..#a.Delegates..\")\"end})return a end;Events={Update=EventDelegate(),Flush=EventDelegate()}",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "12"
        }, {
            "code": "--@class TaskManagerMin\nTaskManager=(function()local self={}self.Stack={}function self.Register(a)if not a.Coroutine then error(\"[TaskManager] Trying to register a non-Task\")end;table.insert(self.Stack,a)end;function self.Update()for b=1,#self.Stack do local a=self.Stack[b]if a and a.Coroutine~=nil then if coroutine.status(a.Coroutine)~=\"dead\"then local c,d=coroutine.resume(a.Coroutine)a.Error=not c;a.LastReturn=d else table.remove(self.Stack,b)if a.Error and a._Catch then a._Catch(a.LastReturn)elseif a._Then~=nil then a._Then(a.LastReturn)end;if a._Finally~=nil then a._Finally()end;a.Finished=true end end end end;return self end)()function Task(e)local self={}self.LastReturn=nil;self.Error=nil;self.Finished=false;if type(e)~=\"function\"then error(\"[Task] Not a function.\")end;self.Coroutine=coroutine.create(e)function self.Then(e)if type(e)~=\"function\"then error(\"[Task] Then callback not a function.\")end;self._Then=e;return self end;function self.Finally(e)if type(e)~=\"function\"then error(\"[Task] Finally callback not a function.\")end;self._Finally=e;return self end;function self.Catch(e)if type(e)~=\"function\"then error(\"[Task] Catch callback not a function.\")end;self._Catch=e;return self end;TaskManager.Register(self)return self end;function await(a)if not a or not a.Coroutine then error(\"Trying to await non-task object\")end;while not a.Finished do coroutine.yield()end;return a.LastReturn end",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "13"
        }, {
            "code": "--@class DynamicDocumentMin\nfunction DynamicDocument(a)local self={}self.template=a or\"\"local b=\"\"local c={}self.tree={}local d={br=true,hr=true,img=true,embed=true,param=true,area=true,col=true,input=true,meta=true,link=true,base=true,basefont=true,iframe=true,isindex=true,circle=true,polygon=true,polyline=true,ellipse=true,path=true,line=true,rect=true,use=true}function table.indexOf(val,table)for e,f in ipairs(table)do if f==val then return e end end;return nil end;function self.makeFunc(string)local val=\"nil\"if c[string]==nil then local g,h=pcall(load(\"return function() return \"..string..\" end\",nil,\"t\",_ENV))if g then c[string]=h;val=h()if type(val)==\"function\"then c[string]=h()val=val()end end else val=c[string]()end;return val end;local function i(a)local j=0;local k={}local l={}l.dd={}table.insert(k,l)local node={}for m,n,o,p,q,r,val,s in string.gmatch(a,\"(<)(%/?!?)([%w:_-'\\\\\\\"%[]+)(.-)(%/?%-?)>([%s\\r\\n\\t]*)([^<]*)([%s\\r\\n\\t]*)\")do o=string.lower(o)if n==\"/\"then if j==0 then return l end;j=j-1;table.remove(k)else local function t(u)local v=\"dd-\"return u:sub(1,#v)==v end;j=j+1;node={}node.name=o;node.children={}node.attr={}if k[j-1]then node.parent=k[j-1][#k[j-1]]else node.parent=nil end;if p~=\"\"then for w,f in string.gmatch(p,\"%s([^%s=]+)=\\\"([^\\\"]+)\\\"\")do node.attr[w]=string.gsub(f,'\"','[^\\\\]\\\\\"')if t(w)then if not l.dd[w]then l.dd[w]={}end;table.insert(l.dd[w],node)end end;for w,f in string.gmatch(p,\"%s([^%s=]+)='([^']+)'\")do node.attr[w]=string.gsub(f,'\"','[^\\\\]\\\\\"')if t(w)then if not l.dd[w]then l.dd[w]={}end;table.insert(l.dd[w],node)end end end;if not k[j]then k[j]={}end;table.insert(k[j],node)if d[o]then if val~=\"\"then table.insert(k[j],{name=\"textNode\",value=val})end;node.children={}j=j-1 else if val~=\"\"then table.insert(node.children,{name=\"textNode\",value=val})end;table.insert(k,node.children)end end end;return l end;local function x(y,z)local k={y}local A=\"\"local function B(C)local D=0;for E in pairs(C)do D=D+1 end;return D end;if not z and B(y.dd)>0 then if y.dd[\"dd-repeat\"]then for F=#y.dd[\"dd-repeat\"],1,-1 do local node=y.dd[\"dd-repeat\"][F]var,array=string.match(node.attr[\"dd-repeat\"],\"(.*) in (.*)\")node.attr[\"dd-repeat\"]=nil;local G=x({node},true)local H=string.gmatch(G,\"{{([^}}]+)}}\")local I={}for J in H do if string.match(J,var)then table.insert(I,J)end end;local b=\"\"local K=self.makeFunc(array)for F=1,#K do _ENV[var]=K[F]local L=G;local M=i(L:gsub(\"^%s*(.-)%s*$\",\"%1\"))b=b..x(M)end;node.children={}node.name=\"textNode\"node.value=b end end;if y.dd[\"dd-if\"]then for F=#y.dd[\"dd-if\"],1,-1 do local node=y.dd[\"dd-if\"][F]local N=self.makeFunc(node.attr[\"dd-if\"])if N then node.attr[\"dd-if\"]=nil else local O=table.indexOf(node,node.parent.children)if O then table.remove(node.parent.children,O)end;node=nil;table.remove(y.dd[\"dd-if\"],F)y.dd[\"dd-if\"][F]=nil end end end;if y.dd[\"dd-init\"]then for F=#y.dd[\"dd-init\"],1,-1 do local node=y.dd[\"dd-init\"][F]pcall(load(node.attr[\"dd-init\"],nil,\"t\",_ENV))node.attr[\"dd-init\"]=nil end end end;while#k~=0 do node=k[#k][1]if not node then break end;if node.name==\"textNode\"then local val=node.value:gsub(\"^%s*(.-)%s*$\",\"%1\")if not z then val=self.transformClosures(val)end;A=A..val else A=A..\"\\n\"..string.rep(\" \",#k-1)A=A..\"<\"..node.name;if node.attr then for P,f in pairs(node.attr)do if not z then P=self.transformClosures(P)f=self.transformClosures(f)end;A=A..\" \"..P..'=\"'..f..'\"'end end;if d[node.name]then A=A..\"/>\"else A=A..\">\"end end;if node.children and#node.children>0 then table.insert(k,node.children)else table.remove(k[#k],1)if node.children and#node.children==0 and not d[node.name]and not node.name==\"textNode\"then A=A..\"</\"..node.name..\">\"end;while#k>0 and#k[#k]==0 do table.remove(k)if#k>0 then if#k[#k][1].children>1 then A=A..\"\\n\"..string.rep(\" \",#k-1)..\"</\"..k[#k][1].name..\">\"else A=A..\"</\"..k[#k][1].name..\">\"end;table.remove(k[#k],1)end end end end;return A:match\"^%s*(.-)%s*$\"end;function self.transformClosures(Q)local R={}local S=string.gmatch(Q,\"{{([^}}]+)}}\")for F in S do table.insert(R,F)end;if#R>0 then for F=1,#R do local T=R[F]val=self.makeFunc(T)Q=string.gsub(Q,self.literalize(\"{{\"..T..\"}}\"),tostring(val))end end;return Q end;function self.literalize(u)return u:gsub(\"[%(%)%.%%%+%-%*%?%[%]%^%$]\",function(J)return\"%\"..J end)end;function self.Read()return x(i(self.template))end;return self end",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "14"
        }, {
            "code": "--@class DUTTYMin\nDUTTY={}local a={}local b={}local function c(d,e)return d:sub(e,e)end;local function f(d)local g={}local h=false;local i=''local j=false;for k=1,#d do local l=c(d,k)if j==false and h and l==h then table.insert(g,i)h=false;i=''elseif j==false and#i==0 and(not h and(l=='\"'or l==\"'\"))then h=l elseif j==false and l==' 'and h==false then if#i>0 then table.insert(g,i)i=''end elseif j==false and l=='\\\\'then j=true else if j then j=false end;i=i..l end end;if#i>0 then table.insert(g,i)end;return g end;function DUTTY.input(d)for k,m in pairs(a)do if'function'==type(m)then m(d)end end;local n=f(d)if#n>0 then local o=''local p={}for k,d in pairs(n)do if k==1 then o=d:lower()else table.insert(p,d)end end;if b[o]and'function'==type(b[o])then b[o](table.unpack(p))end end end;function DUTTY.onInput(m)if not'function'==type(m)then error('Event handler must be of type function')end;table.insert(a,m)end;function DUTTY.onCommand(g,m)if not'function'==type(m)then error('Event handler must be of type function')end;b[g:lower()]=m end;return DUTTY",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "15"
        }, {
            "code": "--@class CSS_SHUD\ndisplaySize = 0.85\nprimaryColor = \"b80000\" --export: Primary color of HUD\nsecondaryColor = \"e30000\" --export: Secondary color of HUD\ntextShadow = \"e81313\" --export: Color of text shadow for speedometer\nARCrosshair = \"ebbb0c\" --export: Color of the AR crosshair\nfuelFontSize = 1.8 --export: Fuel Gauge Font Size\nsystem.print(fuelFontSize)\nCSS_SHUD = [[\n#horizon { \n  left: 0;\n  top: 0;\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  background: radial-gradient(ellipse 27vw 11vw at 50% 51vw, rgba(1,5,8,0.6) 50%,rgba(1,5,8,0) 90%);\n  font-family: Verdana;\n  \n}\n\n#speedometer::before {\n  display: block;\n  position: absolute;\n  content: ' ';\n  top: 0.25vh;\n  bottom: -17vh;\n  left: 50%;\n  width: 31vw;\n  border: 10px solid #]]..primaryColor..[[;\n  border-bottom: 0;\n  border-right: 0;\n  border-left: 0;\n  border-radius: 100%;\n  transform: translateX(-50%);\n  background-color: transparent;\n  filter: blur(100vw);\n}\n\n#speedometerBar {\n  display: block;\n  position: fixed;\n  left: 50%;\n  top: 77.2vh;\n  width: 30vw;\n  height: 24.5vh;\n  transform: translate(-50%);\n  content: ' ';\n  border: 10px solid #]]..primaryColor..[[;\n  border-bottom: 0;\n  border-right: 0;\n  border-left: 0;\n  border-radius: 100%;\n  background-size: contain;\n  background-color: transparent;\n  filter: blur(0.1vw);\n}\n\n#speedometer {\n  font-family: 'Verdana';\n  font-weight: normal;\n  font-style: normal;\n  position: fixed;\n  left: 50%;\n  bottom: 13vh;\n  font-size: 2.5vw;\n  transform: translate(-50%);\n  background-color: transparent;\n  width: 30vw;\n  height: 10vh;\n  text-align: center;\n}\n\n#speedometer .display {\n  position: absolute;\n  top: calc(50% + 1vh);\n  left: calc(50% + 0.25em);\n  transform: translate(-50%, -50%);\n  font-weight: bold;\n  text-shadow: 0 0 0.75vw #]]..textShadow..[[;\n  padding: 0;\n  margin: 0;\n  font-size: 2.8vw;\n}\n\n#speedometer .display .minor, #speedometer .unit {\n  position: relative;\n  left: -0.5em;\n  vertical-align: super;\n  font-size: 40%;\n}\n\n#speedometer .unit {\n  vertical-align: 50%;\n  font-size: 23%;\n  left: -1.33em;\n}\n\n#speedometer .accel {\n  font-size: 1.2vw;\n  text-shadow: 0 0 0.15vw #000000;\n  position: absolute;\n  left: 12.5%;\n  bottom: 0;\n  opacity: 0.75;\n}\n\n#speedometer .accel .major::before {\n  content: '';\n  font-size: 40%;\n}\n\n#speedometer .accel .unit {\n  left: -0.66em;\n}\n\n#speedometer .alt {\n  position: absolute;\n  left: 50%;\n  bottom: -0.65vh;\n  transform: translateX(-50%);\n  font-size: 0.65vw;\n  text-align: center;\n}\n\n#speedometer .misc {\n  position: absolute;\n  left: 50%;\n  bottom: -1.5vh;\n  transform: translateX(-50%);\n  font-size: 0.4vw;\n  text-align: center;\n}\n\n#speedometer .throttle {\n  position: absolute;\n  left: 50%;\n  bottom: -4.3vh;\n  transform: translateX(-50%);\n  font-size: 0.7vw;\n  text-align: center;\n}\n\n#speedometer .vertical {\n  font-size: 1.3vw;\n  text-shadow: 0 0 0.15vw #000000;\n  position: absolute;\n  right: 12.5%;\n  bottom: 0;\n  opacity: 0.75;\n  text-align: right;\n}\n\n#speedometer .vertical::after {\n  content: ' m/s';\n  vertical-align: 50%;\n  font-size: 33%;\n}\n\n#speedometer::after {\n  display: block;\n  font-size: 0;\n  background: url('data:image/png;base64,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');\n  background-size: contain;\n  content: ' ';\n  position: absolute;\n  top: 0.5vh;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 666;\n  opacity: 0.5;\n}\n\n#horizon-menu {\n  text-transform: uppercase;\n  font-family: 'Verdana';\n  font-size: ]] .. displaySize .. [[vw;\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  bottom: 35%;\n  left: 2vw;\n  width: 18vw;\n  padding: 1vw;\n  transform: perspective(50vw) rotateY(35deg);\n  text-shadow: 0.1vw 0 0.25vw #000000;\n}\n#horizon-menu .item {\n  color: #fff;\n  padding: 0.2vw 0.5vw;\n  z-index: 99999;\n}\n#horizon-menu .item .right {\n  float: right;\n}\n#horizon-menu .item .red {\n  color: #]]..secondaryColor..[[;\n}\n#horizon-menu .item.active {\n  position: relative;\n  text-shadow: 0 0 0.75vw #]]..secondaryColor..[[;\n  transform: translateZ(0.33vw);\n  font-size: 1.15em;\n  transform-style: preserve-3d;\n}\n\n#horizon-menu .item.active::before {\n  display: block;\n  content: ' ';\n  position: absolute;\n  top: 15%;\n  bottom: 15%;\n  left: 0.1vw;\n  right: 0.1vw;\n  background: #]]..secondaryColor..[[aa;\n  z-index: -50;\n  filter: blur(1vw);\n  opacity: 0.2;\n}\n\n#horizon-menu .item.active::after {\n  display: block;\n  content: ' ';\n  position: absolute;\n  top: 20%;\n  bottom: 40%;\n  left: 0.1vw;\n  right: 0.1vw;\n  background: #]]..secondaryColor..[[aa;\n  z-index: -50;\n  filter: blur(0.2vw);\n  opacity: 0.3; \n}\n#horizon-menu .item.locked {\n  padding-left: 0.4vw;\n}\n#horizon-menu .item.locked::before {\n  display: block;\n  content: ' ';\n  position: absolute;\n  top: 15%;\n  bottom: 15%;\n  left: 0.1vw;\n  right: 0.1vw;\n  background: #]]..primaryColor..[[aa;\n  z-index: -50;\n  filter: blur(1vw);\n  opacity: 0.2;\n}\n#horizon-menu .item.locked::after {\n  display: block;\n  content: ' ';\n  position: absolute;\n  top: 20%;\n  bottom: 40%;\n  left: 0.1vw;\n  right: 0.1vw;\n  background: #]]..primaryColor..[[aa;\n  z-index: -50;\n  filter: blur(0.2vw);\n  opacity: 0.6; \n}\n\n#horizon-menu::after {\n  content: ' ';\n  filter: blur(1vw);\n  display: block;\n  border-top-left-radius: 1vw;\n  border-top-right-radius: 1vw;\n  border-image: linear-gradient(to bottom, #]]..primaryColor..[[ff, #]]..primaryColor..[[00) 1 100%;\n  background: linear-gradient(to bottom, rgba(0,0,0,0.65) 50%,rgba(0,0,0,0) 100%);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: -99;\n}\n\n#horizon-menu::before {\n  content: ' ';\n  filter: blur(0.05vw);\n  display: block;\n  border-top-left-radius: 1vw;\n  border-top-right-radius: 1vw;\n  border-top: 0.25vw solid #]]..primaryColor..[[;\n  border-left: 0.25vw solid #]]..primaryColor..[[;\n  border-right: 0.25vw solid #]]..primaryColor..[[;\n  border-image: linear-gradient(to bottom, #]]..primaryColor..[[ff, #]]..primaryColor..[[00) 1 100%;\n  background: radial-gradient(ellipse at top, rgba(0,0,0,0.65) 0%,rgba(0,0,0,0) 100%);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: -100;\n}\n\n/* ORE TRILATERATE STYLE */\n\np {\n  /*color:#eca943;*/\n   font-size:100%;\n  }\n\n.block {\n  border: 1px solid DimGray;\n  border-radius:10px;\n  background-color: rgba(0,0,0,.5)\n  }\n\n#main_block{\n  text-align: center;\n  padding: 10px 10px 10px 10px;\n  }\n\n#help_block{\n  text-align: left;\n  padding: 10px 10px 10px 10px;\n  width: 320px;\n  }\t\n\n#pause_block{        \ntext-align: center;\n  font-size:90%;\n  }\n\n#panel_left {  \n  position: absolute;\n  top: 0%;\nleft: 0%;\n  /*width: 310px;*/\n\n  }\n#slider_header {\n  position: absolute;\n  top: 0vh;\n  font-size:110%;\nwidth: 100%;\ntext-align: center;\t   \n  }\n\n\n#slider_main {\n  position: relative;\n  font-size:105%;\ncolor:#eca943;\n  /*left: -51%;/*0%*/*/\n  }\n\n#slider_footer{\n  position: relative;\n  font-size:120%;\n  top:80%;\n  left:10%; \n  }\n\n#panel_slider {\n  position: absolute;\n  top: 54.5vh; ;\n  left: 66.8vw;/*66.8vw;*/\n  width: 9vw;/*9vw;*/\n  height: 28.5vh;\n  transform: skew(15.85deg); /*15.85deg*/\n  border-bottom: 28.5vh solid rgba(0,0,0,.25);\n  border-right: 1vw solid transparent;\n  /*background-color:rgba(0,0,0,.75)*/  \t\n  }\n\n#panel_test {  \n  position: fixed;\n  top: 100px; /* or whatever top you need */\nleft: 50%;\nwidth: auto;\n-webkit-transform: translateX(-50%);\n-moz-transform: translateX(-50%);\n-ms-transform: translateX(-50%);\n-o-transform: translateX(-50%);\ntransform: translateX(-50%);\n}\n#fuelTanks {\n  position: absolute;\n  top: 2%;\n  left: 2%;\n  width: 12vw;\n\n  color: #1b1b1b;\n  font-family: Verdana;\n  font-size: 1vh;\n  text-align: center;\n}\n#fuelTanks .fuel-meter {\n  display: block;\n  position: relative;\n  z-index: 1;\n  border-radius: 0.5em;\n  background: #c6c6c6;\n  padding: 0.5em 1em;\n  margin-bottom: 0.5em;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n#fuelTanks .fuel-meter .fuel-level {\n  display: block;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  bottom: 0px;\n  z-index: -1;\n  border: 0px none;\n  margin: 0;\n  padding: 0;\n}\n#fuelTanks .fuel-meter.fuel-type-atmo .fuel-level { background: #1dd1f9; }\n#fuelTanks .fuel-meter.fuel-type-space .fuel-level { background: #fac31e; }\n#fuelTanks .fuel-meter.fuel-type-rocket .fuel-level { background: #bfa6ff; }\n.st0{fill:none;stroke:#]]..ARCrosshair..[[;stroke-width:1;stroke-miterlimit:10;}\n.st1{fill:none;stroke:#]]..ARCrosshair..[[;stroke-width:2;stroke-miterlimit:10;}\n.st2{fill:#]]..ARCrosshair..[[;stroke:#]]..ARCrosshair..[[;stroke-miterlimit:10;}\n.st3{fill:#]]..ARCrosshair..[[; font-family: Verdana; font-size:10.5px;}\n.shadow {\n  -webkit-filter: drop-shadow( 3px 3px 2px rgba(0, 0, 0, .7));\n  filter: drop-shadow( 3px 3px 2px rgba(0, 0, 0, .7));\n}\n]]\n\n--system.print([[Shadow Templar Mining Chair H1R3<style>#custom_screen_click_layer{ display: none !important; }</style>]])",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "16"
        }, {
            "code": "--@class FuelTankHelperMin\nlocal ContainerOptimization = 5 --export: Container ContainerOptimization\nlocal FuelTankOptimization = 5 --export: Fuel Tank FuelTankOptimization\nlocal fuelTankHandlingAtmo = 5 --export: Fuel Tank Handling Atmo\nlocal fuelTankHandlingSpace = 5 --export: Fuel Tank Handling Space\nfuelTanks={}FuelMass={}FuelTime={}fuelTypes={atmo={density=4.000},space={density=6.000},rocket={density=0.800}}local function a(b)if fuelTankHandlingAtmo>0 then return b+b*fuelTankHandlingAtmo*0.2 else return b end end;local function c(b)if fuelTankHandlingSpace>0 then return b+b*fuelTankHandlingSpace*0.2 else return b end end;local function d(e,f)local g=e*fuelTypes[f].density;local h=g;if ContainerOptimization>0 then h=g-g*ContainerOptimization*0.05 end;if FuelTankOptimization>0 then h=h-g*FuelTankOptimization*0.05 end;return h end;fuelTankSpecsByMaxHP={atmo={_50={type=\"atmo\",size=\"XS\",capacity=function()return a(100)end,baseWeight=35.030,maxWeight=function()return d(a(100),\"atmo\")end},_163={type=\"atmo\",size=\"S\",capacity=function()return a(400)end,baseWeight=182.670,maxWeight=function()return d(a(400),\"atmo\")end},_1315={type=\"atmo\",size=\"M\",capacity=function()return a(1600)end,baseWeight=988.670,maxWeight=function()return d(a(1600),\"atmo\")end},_10461={type=\"atmo\",size=\"L\",capacity=function()return a(12800)end,baseWeight=5480.000,maxWeight=function()return d(a(12800),\"atmo\")end}},space={_187={type=\"space\",size=\"S\",capacity=function()return c(400)end,baseWeight=182.670,maxWeight=function()return d(a(400),\"space\")end},_1496={type=\"space\",size=\"M\",capacity=function()return c(1600)end,baseWeight=988.670,maxWeight=function()return d(a(1600),\"space\")end},_15933={type=\"space\",size=\"L\",capacity=function()return c(12800)end,baseWeight=5480.000,maxWeight=function()return d(a(12800),\"space\")end}},rocket={_366={type=\"rocket\",size=\"XS\",capacity=function()return 400 end,baseWeight=173.420,maxWeight=function()return d(a(400),\"rocket\")end},_736={type=\"rocket\",size=\"S\",capacity=function()return 800 end,baseWeight=886.720,maxWeight=function()return d(a(800),\"rocket\")end},_6231={type=\"rocket\",size=\"M\",capacity=function()return 6400 end,baseWeight=4720.000,maxWeight=function()return d(a(6400),\"rocket\")end},_68824={type=\"rocket\",size=\"L\",capacity=function()return 50000 end,baseWeight=25740.000,maxWeight=function()return d(a(50000),\"rocket\")end}}}local function i(j)return j==math.huge or j==-math.huge end;local function k(j)return j~=j end;function disp_time(l)if i(l)or k(l)then return\"inf\"end;local m=math.floor(l/86400)local n=math.floor(math.fmod(l,86400)/3600)local o=math.floor(math.fmod(l,3600)/60)local p=math.floor(math.fmod(l,60))if l>=86400 then return string.format(\"%dd:%02dh\",m,n)elseif l<86400 and l>3600 then return string.format(\"%02dh:%02dm:%02ds\",n,o,p)elseif l<3600 and l>60 then return string.format(\"%02dm:%02ds\",o,p)else return string.format(\"%02ds\",p)end end;local q=table.unpack;function fuelUsed(r)local s={}function sum(t,...)if t then return t-sum(...)else return 0 end end;function average(u)if#s==r then table.remove(s,1)end;if u~=0 and u~=nil then s[#s+1]=u end;return sum(q(s))end;return average end;function getFuelSituation()local v={atmo={},space={},rocket={}}for w,x in pairs(fuelTanks)do table.insert(v[x.type],{name=core.getElementNameById(w),level=getFuelTankLevel(w),time=getFuelTime(w),specs=x})end;return v end;function getFuelTankSpecs(y,z)local A=math.floor(core.getElementMaxHitPointsById(z))return fuelTankSpecsByMaxHP[y]['_'..A]end;function getFuelTankLiters(z)local B=fuelTanks[z]local C=core.getElementMassById(z)local D=C-B.baseWeight;return D end;function getFuelTankLevel(z)local B=fuelTanks[z]local h=B.maxWeight()return getFuelTankLiters(z)/h end;function getFuelTime(z)local B=fuelTanks[z]local E=FuelTime[z]or system.getTime()local F=math.max(system.getTime()-E,0.001)local C=core.getElementMassById(z)local G=B.baseWeight;local fuelUsed=FuelMass[z](C)local H=F/fuelUsed*(C-G)local I=disp_time(H)FuelTime[z]=system.getTime()return I end;function getFuelTanks()for J,K in ipairs(fuelTankSpecsByMaxHP)do system.print(\"V: \"..K)for L,s in ipairs(K)do for M,N in pairs(s)do system.print(\"Capacity: \"..N.capacity())end end end;local O=core.getElementIdList()for L,P in pairs(O)do local Q=core.getElementTypeById(P)if Q==\"Atmospheric Fuel Tank\"then fuelTanks[P]=getFuelTankSpecs(\"atmo\",P)FuelMass[P]=fuelUsed(2)elseif Q==\"Space Fuel Tank\"then fuelTanks[P]=getFuelTankSpecs(\"space\",P)FuelMass[P]=fuelUsed(2)elseif Q==\"Rocket Fuel Tank\"then fuelTanks[P]=getFuelTankSpecs(\"rocket\",P)FuelMass[P]=fuelUsed(2)end end end;getFuelTanks()",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "17"
        }, {
            "code": "--@class TagManagerMin\nfunction TagManager(a)self={}local b={}local c=\"\"local function d(e,f)if e==''then return false end;local g,h=0,{}for i,j in function()return string.find(f,e,g,true)end do table.insert(h,string.sub(f,g,i-1))g=j+1 end;table.insert(h,string.sub(f,g))return h end;function self.tagsToString()if#b==0 then c=\"all\"else c=table.concat(b,\",\")end end;function self.Remove(k)if type(k)~=\"string\"then error(\"[TagManager] Unable to remove a tag - Not a string\")end;for l,m in pairs(b)do if k==m then table.remove(b,l)end end;self.tagsToString()end;function self.Add(k)if type(k)~=\"string\"then error(\"[TagManager] Unable to add a tag - Not a string\")end;for l,m in pairs(b)do if k==m then return end end;table.insert(b,k)self.tagsToString()end;if a~=nil and type(a)==\"string\"then for l,m in pairs(d(\",\",a))do self.Add(m)end else self.Add(\"all\")end;setmetatable(self,{__tostring=function(self)return c end})return self end",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "18"
        }, {
            "code": "--@class KeybindControllerMin\nfunction Keybind(a)local self={}self.Key=a;local b={}function self.Add(c,d)if type(c)~=\"function\"then error(\"[Keybind] Unable to add callback - not a function\")end;table.insert(b,{Function=c,Name=d})end;function self.Remove(c)if type(c)~=\"function\"then error(\"[Keybind] Unable to remove callback - not a function\")end;local e={}for f,g in pairs(b)do e[g.Function]=f end;for f,g in pairs(e)do if f==c then b[g]=nil end end end;function self.GetNames()local h={}for f,g in pairs(b)do if g.Name then table.insert(h,g.Name)end end;return h end;function self.Call()for f,g in pairs(b)do g.Function(self.Key)end end;return self end;function KeybindController()local self={}local i={\"forward\",\"backward\",\"left\",\"right\",\"yawleft\",\"yawright\",\"up\",\"down\",\"gear\",\"light\",\"landing\",\"brake\",\"option1\",\"option2\",\"option3\",\"option4\",\"option5\",\"option6\",\"option7\",\"option8\",\"option9\",\"stopengines\",\"speedup\",\"speeddown\",\"antigravity\",\"booster\",\"lshift\",\"lalt\",\"lalt\",\"strafeleft\",\"straferight\"}self.keyUp={}self.keyDown={}self.keyLoop={}function self.Call(j,type)if type==\"up\"then if self.keyUp[j]then self.keyUp[j].Call(j)end elseif type==\"down\"then if self.keyDown[j]then self.keyDown[j].Call(j)end else if self.keyLoop[j]then self.keyDown[j].Call(j)end;system.print(j)end end;function self.GetNamedKeybinds()local h={}for f,g in pairs(self.keyUp)do local k=g.GetNames()if#k>0 then for l=1,#k do table.insert(h,{Key=g.Key,Name=k[l]})end end end;for f,g in pairs(self.keyDown)do local k=g.GetNames()if#k>0 then for l=1,#k do table.insert(h,{Key=g.Key,Name=k[l]})end end end;for f,g in pairs(self.keyLoop)do local k=g.GetNames()if#k>0 then for l=1,#k do table.insert(h,{Key=g.Key,Name=k[l]})end end end;table.sort(h,function(m,n)return m.Key<n.Key end)return h end;self.Init=function()end;local function o()for l=1,#i do self.keyUp[i[l]]=Keybind(i[l])self.keyDown[i[l]]=Keybind(i[l])self.keyLoop[i[l]]=Keybind(i[l])end end;o()return self end;keybindPresets={}",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "19"
        }, {
            "code": "--@class STEC\n--[[\n    Shadow Templar Engine Control\n    Version: 1.17\n\n    Setup:\n        - Put this file in system.start\n        - Replace system.flush with: engines.apply()\n        - Replace all controls with the appropriate STEC equivalent:\n            - ship.direction.x - left/right\n            - ship.direction.y - forward/back\n            - ship.direction.z - forward/back\n            - ship.rotation.x - pitch\n            - ship.rotation.y - roll\n            - ship.rotation.z - yaw\n        - See comments for additional functionality\n]]\nplanetaryReference = PlanetRef()\ngalaxyReference = planetaryReference(Atlas())\nhelios = galaxyReference[0]\nkinematics = Kinematics()\nlocal jdecode = json.decode\nlocal maxBrake = jdecode(unit.getData()).maxBrake\n\n\nfunction STEC(core, control, Cd)\n    local self = {}\n    self.core = core\n    self.flippedCore = true\n    self.control = control\n    self.nearestPlanet = helios:closestBody(core.getConstructWorldPos())\n    self.world = {\n        up = vec3(core.getConstructWorldOrientationUp()),\n        down = -vec3(core.getConstructWorldOrientationUp()),\n        left = -vec3(core.getConstructWorldOrientationRight()),\n        right = vec3(core.getConstructWorldOrientationRight()),\n        forward = vec3(core.getConstructWorldOrientationForward()),\n        back = -vec3(core.getConstructWorldOrientationForward()),\n        velocity = vec3(core.getWorldVelocity()),\n        acceleration = vec3(core.getWorldAcceleration()),\n        position = vec3(core.getConstructWorldPos()),\n        gravity = vec3(core.getWorldGravity()),\n        vertical = vec3(core.getWorldVertical()),\n        atmosphericDensity = control.getAtmosphereDensity(),\n        nearPlanet = unit.getClosestPlanetInfluence() > 0,\n        atlasAltitude = self.nearestPlanet:getAltitude(core.getConstructWorldPos())\n    }\n    if self.flippedCore then\n        self.world.up = -self.world.up\n        self.world.down = -self.world.down\n        self.world.left = -self.world.left\n        self.world.right = -self.world.right\n    end\n    self.target = {\n        prograde = function() return self.world.velocity:normalize() end,\n        retrograde = function() return -self.world.velocity:normalize() end,\n        radial = function() return self.world.gravity:normalize() end,\n        antiradial = function() return -self.world.gravity:normalize() end,\n        normal = function() return self.world.velocity:normalize():cross(self.world.gravity:normalize()):normalize() end,\n        antinormal = function() return self.world.velocity:normalize():cross(-self.world.gravity:normalize()):normalize() end,\n    }\n    \n    self.rot = vec3(0,0,0)\n    -- Construct id\n    self.id = core.getConstructId()\n    -- Control Mode - Travel (0) or Cruise (1)\n    self.controlMode = unit.getControlMasterModeId()\n    -- Alternate Control Mode for remote control\n    self.alternateCM = false\n    -- Active engine tags\n    self.tags = TagManager(\"all,brake\")\n\n    self.customTarget = vec3(0,0,0)\n    self.verticalLock = false\n    self.lockVector = vec3(0,0,0)\n    self.lockPos = vec3(0,0,0)\n    self.pocket = false\n    self.autoShutdown = false\n    self.dockingClamps = false\n    self.elevatorDestination = vec3(0,0,0)\n    self.IDIntensity = 5\n    self.deviationThreshold = 0.05\n    self.playerId = unit.getMasterPlayerId()\n    self.targetVectorVertical = nil\n    self.breadCrumbDist = 1000\n    self.deviated = false\n    self.breadCrumbs = {}\n    self.hoverHeight = 10\n    self.holdAlt = false\n    self.followTerrain = false\n    self.hoverDistance = 0\n    self.hoverIntensity = 2\n    -- Whether the target vector should unlock automatically if the ship is rotated by the pilot\n    self.targetVectorAutoUnlock = true\n    -- Current altitude\n    self.altitude = 0\n    -- Current mass of the vessel, in kilograms\n    self.mass = self.core.getConstructMass()\n    -- Amount of thrust to apply in world space, in Newton. Stacks with {{direction}}\n    self.thrust = vec3(0, 0, 0)\n    -- Amount of thrust to apply in local space, in percentage of fMax 0-1\n    self.direction = vec3(0, 0, 0)\n    -- Amount of rotation to apply in local space\n    self.rotation = vec3(0, 0, 0)\n    -- Speed scale factor for rotations\n    self.rotationSpeed = 2\n    -- Minimum rotation speed for auto-scale\n    self.minRotationSpeed = 0.1\n    -- Rotation Speed on x axis\n    self.rotationSpeedz = 0.01\n    -- Max rotation speed for auto-scale\n    self.maxRotationSpeedz = 3\n    -- Auto-scale rotation Setup\n    self.rotationStep = 0.03\n    -- Breaking speed multiplier\n    self.brakingFactor = 10\n    -- Amount of angular thrust to apply, in world space\n    self.angularThrust = vec3(0, 0, 0)\n    -- Whether or not the vessel should attempt to cancel out its current velocity in directions that are not being accelerated towards\n    self.inertialDampening = false\n    -- Desired state of intertialDampening\n    self.inertialDampeningDesired = false\n    -- Whether or not the vessel should attempt to completely cancel out its current velocity\n    self.brake = false\n    -- Whether or not the vessel should attempt to counter gravity influence\n    self.counterGravity = true\n    -- Whether or not the vessel should attempt to face perpendicular to the gravity vector\n    self.followGravity = true\n    -- Aggressiveness of the gravity follow adjustment\n    self.gravityFollowSpeed = 6\n    -- Speed (in km/h) in which to limit the velocity of the ship\n    self.speedLimiter = 2000\n    -- Variable speed limit based on delta distance in altitude hold mode\n    self.variableSpeedLimit = 2000\n    -- Toggle speed limiter on/off\n    self.speedLimiterToggle = true\n    -- Vertical Speed Limit (Atmo)\n    self.verticalSpeedLimitAtmo = 750\n    -- Vertical Speed Limit (Space)\n    self.verticalSpeedLimitAtmo = 2000\n    -- Final approach speed\n    self.approachSpeed = 200\n    -- Amount of throttle to apply. 0-1 range\n    self.throttle = 1\n    -- Maximum thrust which the vessel is capable of producing\n    self.fMax = 0\n    self.vMax = 0\n    self.hMax = 0\n    -- Toggle altitude hold on/off\n    self.elevatorActive = false\n    -- Altitude which the vessel should attempt to hold\n    self.altitudeHold = 0\n    -- Atmosphere density Threshold\n    self.atmosphereThreshold = 0\n    -- Speed which the vessel should attempt to maintain\n    self.cruiseSpeed = 0\n    -- Whether or not to ignore throttle for vertical thrust calculations\n    self.ignoreVerticalThrottle = false\n    -- Local velocity\n    self.localVelocity = vec3(core.getVelocity())\n    self.brakeDistance = 0\n    self.accelTime = nil\n    -- Roll Degrees\n    self.rollDegrees = self.world.vertical:angle_between(self.world.left) / math.pi * 180 - 90\n    self.viewY = 0\n    self.viewX = 0\n    if self.world.vertical:dot(self.world.up) > 0 then self.rollDegrees = 180 - self.rollDegrees end\n    -- Pitch\n    self.pitchRatio = self.world.vertical:angle_between(self.world.forward) / math.pi - 0.5\n    --Vertical Cruise Toggle (for elevator stuff)\n    self.verticalCruise = false\n    --Vertical Cruise Speed (for elevator stuff)\n    self.verticalCruiseSpeed = 0\n\t\n    local lastUpdate = system.getTime()\n\n    function self.updateWorld()\n        self.world = {\n            up = vec3(core.getConstructWorldOrientationUp()),\n            down = -vec3(core.getConstructWorldOrientationUp()),\n            left = -vec3(core.getConstructWorldOrientationRight()),\n            right = vec3(core.getConstructWorldOrientationRight()),\n            forward = vec3(core.getConstructWorldOrientationForward()),\n            back = -vec3(core.getConstructWorldOrientationForward()),\n            velocity = vec3(core.getWorldVelocity()),\n            acceleration = vec3(core.getWorldAcceleration()),\n            position = vec3(core.getConstructWorldPos()),\n            gravity = vec3(core.getWorldGravity()),\n            vertical = vec3(core.getWorldVertical()),\n            atmosphericDensity = control.getAtmosphereDensity(),\n            nearPlanet = unit.getClosestPlanetInfluence() > 0,\n            atlasAltitude = self.nearestPlanet:getAltitude(core.getConstructWorldPos())\n        }\n        if self.flippedCore then\n            self.world.up = -self.world.up\n            self.world.down = -self.world.down\n            self.world.left = -self.world.left\n            self.world.right = -self.world.right\n        end\n        self.nearestPlanet = helios:closestBody(core.getConstructWorldPos())\n\t   -- Roll Degrees\n        self.rollDegrees = self.world.vertical:angle_between(self.world.left) / math.pi * 180 - 90\n        if self.world.vertical:dot(self.world.up) > 0 then self.rollDegrees = 180 - self.rollDegrees end\n        -- Pitch\n        self.pitchRatio = self.world.vertical:angle_between(self.world.forward) / math.pi - 0.5\n        \n        self.AngularVelocity = vec3(core.getWorldAngularVelocity())\n        self.AngularAcceleration = vec3(core.getWorldAngularAcceleration())\n        self.AngularAirFriction = vec3(core.getWorldAirFrictionAngularAcceleration())\n\n\t    self.airFriction = vec3(core.getWorldAirFrictionAcceleration())\n        self.atmosphereThreshold = helios:closestBody(core.getConstructWorldPos()).noAtmosphericDensityAltitude\n        self.mass = self.core.getConstructMass()\n        --self.altitude = self.core.getAltitude()\n        self.altitude = helios:closestBody(core.getConstructWorldPos()):getAltitude(core.getConstructWorldPos())\n        self.localVelocity = vec3(core.getVelocity())\n        self.maxBrake = jdecode(unit.getData()).maxBrake\n        local fMax = core.getMaxKinematicsParametersAlongAxis(\"all\", {vec3(0,1,0):unpack()})\n        local vMax = core.getMaxKinematicsParametersAlongAxis(\"all\", {vec3(0,0,1):unpack()})\n        --system.print(\"vMax[1]: \"..round2(vMax[1],0))\n        --system.print(\"vMax[2]: \"..round2(vMax[2],0))\n        --system.print(\"vMax[3]: \"..round2(vMax[3],0))\n        --system.print(\"vMax[4]: \"..round2(vMax[4],0))\n        local hMax = core.getMaxKinematicsParametersAlongAxis(\"all\", {vec3(1,0,0):unpack()})\n        if self.world.atmosphericDensity > 0.1 then\n            self.fMax = math.max(fMax[1], -fMax[2])\n        else\n            self.fMax = math.max(fMax[3], -fMax[4])\n        end\n        if self.world.atmosphericDensity > 0.1 then\n            self.vMax = math.max(vMax[1], -vMax[2])\n        else\n            self.vMax = math.min(vMax[3], -vMax[4])\n        end\n        if self.world.atmosphericDensity > 0.1 then\n            self.hMax = math.max(hMax[1], -hMax[2])\n        else\n            self.hMax = math.max(hMax[3], -hMax[4])\n        end\n        --system.print(self.world.velocity:dot(-self.world.gravity:normalize()))\n        local gravN = self.mass * core.g()\n        local correctedThrust = self.vMax\n        local correctedBrake = self.maxBrake\n        local sign = 1\n\n        if self.maxBrake ~= nil and core.g() >= 1 then\n            if self.world.velocity:dot(-self.world.gravity:normalize()) < 1 then\n                sign = -1\n            end\n            gravN = gravN * sign\n            correctedThrust = self.vMax + gravN\n            correctedBrake = self.maxBrake + gravN\n        end\n        self.brakeDistance, self.accelTime = kinematics.computeDistanceAndTime(self.world.velocity:len(), 0, self.mass, correctedThrust,20,correctedBrake)\n\n\n    end\n    function pythag(a, c)\n        return math.sqrt(c^2 -a^2)\n    end\n    function self.calculateAccelerationForce(acceleration, time)\n        return self.mass * (acceleration / time)\n    end\n\n    function clamp(n, min, max)\n        return math.min(max, math.max(n, min))\n    end\n    function round(num, numDecimalPlaces)\n        local mult = 10^(numDecimalPlaces or 0)\n        return math.floor(num * mult + 0.5) / mult\n    end\n    function self.throttleUp()\n        self.throttle = clamp(self.throttle + 0.05, 0, 1)\n    end\n\n    function self.throttleDown()\n        self.throttle = clamp(self.throttle - 0.05, 0, 1)\n    end\n\n    function self.worldToLocal(vector)\n        return vec3(\n            library.systemResolution3(\n                {self.world.right:unpack()},\n                {self.world.forward:unpack()},\n                {self.world.up:unpack()},\n                {vector:unpack()}\n            )\n        )\n    end\n\n    function self.localToRelative(pos, up, right, forward)\n        -- this is horrible, can optimize?\n        local rightX, rightY, rightZ = right:unpack()\n        local forwardX, forwardY, forwardZ = forward:unpack()\n        local upX, upY, upZ = up:unpack()\n        local rfuX, rfuY, rfuZ = pos:unpack()\n        local relX = rfuX * rightX + rfuY * forwardX + rfuZ * upX\n        local relY = rfuX * rightY + rfuY * forwardY + rfuZ * upY\n        local relZ = rfuX * rightZ + rfuY * forwardZ + rfuZ * upZ\n        return vec3(relX, relY, relZ)\n    end\n\n    function MsToKmh(ms)\n        return ms * 3.6\n    end\n    function KmhToMs(kmh)\n        return kmh / 3.6\n    end\n\n    function self.apply()\n        local deltaTime = math.max(system.getTime() - lastUpdate, 0.001) --If delta is below 0.001 then something went wrong in game engine.\n        self.updateWorld()\n        local tmp = self.thrust\n        local atmp = self.angularThrust\n        local gravityCorrection = false\n        local fMax = core.getMaxKinematicsParametersAlongAxis(\"all\", {vec3(0,1,0):unpack()})\n        local vMaxUp = core.getMaxKinematicsParametersAlongAxis(\"all\", {vec3(0,0,1):unpack()})\n        local vMaxDown = core.getMaxKinematicsParametersAlongAxis(\"all\", {vec3(0,0,-1):unpack()})\n        local hMax = core.getMaxKinematicsParametersAlongAxis(\"all\", {vec3(1,0,0):unpack()})\n        if not self.elevatorActive then self.inertialDampening = self.inertialDampeningDesired end\n        \n        if self.direction.x ~= 0 then\n            local dot  = (1 - self.world.up:dot(-self.world.gravity:normalize())) * (self.mass * 0.000095) -- Magic number is magic\n            local gravCorrection = -self.world.vertical * dot\n\n            if self.direction.x < 0 and math.abs(round2(hMax[2],0)) < 500 then\n                gravityCorrection = true\n                tmp = tmp + ((((self.world.right * self.direction.x) + gravCorrection):normalize() * self.mass * self.fMax) * self.throttle)\n            elseif self.direction.x > 0 and math.abs(round2(hMax[1],0)) < 500 then\n                gravityCorrection = true\n                tmp = tmp + ((((self.world.right * self.direction.x) + gravCorrection):normalize() * self.fMax) * self.throttle)\n            else\n                tmp = tmp + (((self.world.right * self.direction.x) * self.fMax) * self.throttle) -- OG code\n            end\n        end\n        \n        if self.direction.y ~= 0 then\n            \n            --tmp = tmp + (((self.world.forward * self.direction.y) * self.fMax) * self.throttle)\n            --tmp = tmp + (((self.world.gravity:normalize():cross(-self.world.right) * self.direction.y) * self.fMax) * self.throttle)\n            local dot  = (1 - self.world.up:dot(-self.world.gravity:normalize())) * (self.mass * 0.000095)\n            local gravCorrection = -self.world.vertical * dot\n            --system.print(math.abs(round2(fMax[2],0)))\n            if self.direction.y < 0 and math.abs(round2(fMax[2],0)) == 0 then\n                gravityCorrection = true\n                \n                tmp = tmp + ((((self.world.forward * self.direction.y) + gravCorrection):normalize() * self.fMax) * self.throttle)\n                \n            else\n                local velocityLen = (self.world.velocity:len() * 3.6)\n                --system.print(velocityLen)\n                --if velocityLen <= 75 then\n                    tmp = tmp + (((self.world.forward * self.direction.y) * self.fMax) * self.throttle)\n                --end\n            end\n            \n        end\n        if self.direction.z ~= 0 then\n            local a = ((self.world.up * self.direction.z) * self.fMax)\n            if not self.ignoreVerticalThrottle then a = a * self.throttle end\n            tmp = tmp + a\n        end\n        if self.rotation.x ~= 0 then\n            atmp = atmp + ((self.world.forward:cross(self.world.up) * self.rotation.x) * self.rotationSpeed)\n            if self.targetVectorAutoUnlock then\n                self.targetVector = nil\n            end\n        end\n        if self.rotation.y ~= 0 then\n            atmp = atmp + ((self.world.up:cross(self.world.right) * self.rotation.y) * self.rotationSpeed)\n        end\n        if self.rotation.z ~= 0 then\n            if self.rotationSpeedz <= self.maxRotationSpeedz then self.rotationSpeedz = self.rotationSpeedz + self.rotationStep end\n            --system.print(\"Rotation Speed: \"..self.rotationSpeedz)\n            atmp = atmp + ((self.world.forward:cross(self.world.right) * self.rotation.z) * clamp(self.rotationSpeedz, 0.01, self.maxRotationSpeedz))\n            if self.targetVectorAutoUnlock then\n                self.targetVector = nil\n            end\n        end\n        if self.holdAlt then\n            local hoverDist = {}\n            for k, v in ipairs(hovers) do \n                table.insert(hoverDist,v.getDistance())\n            end\n            self.hoverDistance = math.min(table.unpack(hoverDist))\n            local bottomOut = false\n            local delta = self.hoverHeight - self.hoverDistance\n            if self.hoverDistance < self.hoverHeight * 0.5 and self.hoverDistance > 0 then\n                system.print(\"BOTTOM OUT: \"..self.hoverDistance..\", Speed: \"..self.world.velocity:len()..\" m/s\")\n                bottomOut = true\n            end\n            local intensity = self.hoverIntensity * 0.1\n            if bottomOut and self.world.velocity:len() > 180 then intensity = 1 end\n            if self.hoverDistance > 0 then\n                tmp = tmp - ((self.world.up * delta) * (self.vMax * intensity))\n            end\n        end\n\n        if self.followGravity and self.rotation.x == 0 then\n          --system.print(tostring(self.direction))\n\t\t    local current = self.localVelocity:len() * self.mass\n            local scale = nil\n            --if ship.localVelocity:len() > 10 then\n            --    scale = self.gravityFollowSpeed * math.min(math.max(current / self.fMax, 0.1), 1) * 10\n            --else\n            --    scale = self.gravityFollowSpeed\n            --end\n            local gFollow = (-self.world.up:cross(self.nearestPlanet:getGravity(core.getConstructWorldPos())))\n            if self.flippedCore then\n                gFollow = (self.world.up:cross(self.nearestPlanet:getGravity(core.getConstructWorldPos())))\n            end\n            local scale = 1.5\n            local smoothing = 6\n            \n            gFollow = gFollow * scale\n            atmp = atmp + gFollow - ((self.AngularVelocity * smoothing) - (self.AngularAirFriction * smoothing))\n            \n        end\n        function isOverWater(hover, tel, hyp)\n            if hyp == nil then return false end\n\n            local a = math.abs(hyp - hover)\n            local b = math.abs(hyp - tel)\n\n            if a < b then return false else return true end\n        end\n        if self.followTerrain and frontTel ~= nil and rearTel ~= nil then\n            local delta = 0\n            local smoothing = 6\n\n            local gFollow = (-self.world.up:cross(self.nearestPlanet:getGravity(core.getConstructWorldPos())))\n\t\t    if self.flippedCore then\n\t\t\t    gFollow = (self.world.up:cross(self.nearestPlanet:getGravity(core.getConstructWorldPos())))\n\t\t    end\n            local frontTelDist = frontTel:getDistance()\n            local rearTelDist = rearTel:getDistance()\n            local intensity = 4\n            local grav = ship.world.up:dot(ship.world.gravity)\n            if grav < 0 then\n                atmp = atmp + -(self.world.right:cross(self.world.forward:cross(self.world.gravity:normalize())) * self.rotationSpeed * 9) - ((self.AngularVelocity * smoothing) - (self.AngularAirFriction * smoothing))\n            else\n                atmp = atmp + (self.world.right:cross(self.world.forward:cross(self.world.gravity:normalize())) * self.rotationSpeed * 9) - ((self.AngularVelocity * smoothing) - (self.AngularAirFriction * smoothing))\n            end\n            if frontTelDist > 0 and rearTelDist > 0 and frontTelDist < (self.hoverHeight * 3) then\n                delta = frontTelDist - rearTelDist\n                --system.print(\"frontTel: \"..frontTelDist..\", rearTel: \"..rearTelDist)\n                if math.abs(delta) > 0.2 and math.abs(delta) < (self.hoverHeight * 4) then\n                    atmp = atmp + ((self.world.forward:cross(self.world.up) * (delta * intensity))) - ((self.AngularVelocity * smoothing) - (self.AngularAirFriction * smoothing))\n                end\n            elseif frontTelDist > (self.hoverHeight * 3) or frontTelDist < 0 or rearTelDist < 0 then\n                delta = -0.45\n                --system.print(\"Big air!\"..deltaTime)\n                gFollow = gFollow + ship.world.forward:cross(-self.nearestPlanet:getGravity(core.getConstructWorldPos()) * (delta)) - ((self.AngularVelocity * (math.abs(delta) * smoothing)) - (self.AngularAirFriction * (math.abs(delta) * smoothing)))\n                atmp = atmp + gFollow - ((self.AngularVelocity * smoothing) - (self.AngularAirFriction * smoothing))\n                \n            else\n                system.print(\"Edge case.\"..deltaTime)\n                --system.print(\"frontTelDist: \"..frontTelDist..\", rearTelDist: \"..rearTelDist)\n                atmp = atmp + gFollow - ((self.AngularVelocity * smoothing) - (self.AngularAirFriction * smoothing))\n            end\n            \n\n        end\n\n        if self.inertialDampening then\n            local currentShipMomentum = self.localVelocity\n            local delta = vec3(0,0,0)\n            local moveDirection = self.direction or vec3(0,0,0)\n\n            if moveDirection.x == 0 then delta.x = currentShipMomentum.x end\n            if moveDirection.y == 0 then delta.y = currentShipMomentum.y end\n            if moveDirection.z == 0 then delta.z = currentShipMomentum.z end\n\n            delta = self.localToRelative(delta, self.world.up, self.world.right, self.world.forward)\n            --system.print(tostring(delta))\n            tmp = tmp - (delta * (self.mass * self.IDIntensity))\n\n        end\n\n        if self.brake then\n            local velocityLen = self.world.velocity:len()\n            tmp =\n                -self.world.velocity * self.mass *\n                math.max(self.brakingFactor * math.max(1, velocityLen * 0.5), velocityLen * velocityLen)\n        end\n        if self.targetVector ~= nil then\n            local vec = vec3(self.world.forward.x, self.world.forward.y, self.world.forward.z)\n            if type(self.targetVector) == \"function\" then\n                vec = self.targetVector()\n            elseif type(self.targetVector) == \"table\" then\n                vec = self.targetVector\n            end\n            atmp = atmp + (self.world.forward:cross(vec) * (self.rotationSpeed / 4))  - ((self.AngularVelocity * 2) - (self.AngularAirFriction * 2))\n        end\n\n        if self.targetVectorVertical ~= nil then\n            local vec = vec3(self.world.up.x, self.world.up.y, self.world.up.z)\n            if type(self.targetVector) == \"function\" then\n                vec = self.targetVector()\n            elseif type(self.targetVector) == \"table\" then\n                vec = self.targetVector\n            end\n            if (self.world.up - self.targetVectorVertical):len() < 0 then\n                atmp = atmp + (-self.world.up:cross(vec) * (self.rotationSpeed / 4))  - ((self.AngularVelocity * 2) - (self.AngularAirFriction * 2))\n            else\n                atmp = atmp + (self.world.up:cross(vec) * (self.rotationSpeed / 4))  - ((self.AngularVelocity * 2) - (self.AngularAirFriction * 2))\n            end\n            \n        end\n        \n        -- must be applied last\n        if self.counterGravity then\n            --tmp = tmp - self.nearestPlanet:getGravity(core.getConstructWorldPos()) * self.mass\n            tmp = tmp - self.world.gravity * self.mass\n        end\n\n        if self.verticalLock then\n            local localPos = (self.world.position + self.world.up) - self.lockPos\n            local intersectionPos = self.lockVector * self.lockVector:dot(localPos)\n            local intersectionVec = intersectionPos - localPos\n            local thrustForce = intersectionVec * (self.mass * 0.3)-- * deltaTime\n            --system.print(\"thrustForce: \" .. tostring(thrustForce))\n            tmp = tmp + thrustForce * self.mass\n         end\n\n        atmp = atmp - ((self.AngularVelocity * 2) - (self.AngularAirFriction * 2))\n        tmp = tmp / self.mass\n\n        if self.controlMode ~= unit.getControlMasterModeId() then\n            self.controlMode = unit.getControlMasterModeId()\n            if unit.getControlMasterModeId() == 0 then self.alternateCM = false end\n            if unit.getControlMasterModeId() == 1 then self.alternateCM = true end\n        end\n\n\n        self.control.setEngineCommand(tostring(self.tags), {tmp:unpack()}, {atmp:unpack()})\n        atmp = vec3(0, 0, 0)\n        tmp = vec3(0, 0, 0)\n        self.elevatorDestination = vec3(0,0,0)\n        lastUpdate = system.getTime()\n    end\n\n    return self\nend\n\nship = STEC(core, unit)\n",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "20"
        }, {
            "code": "--@class AR_HUDMin\nmouseSensitivity = 1 --export: Enter your mouse sensativity setting\nenableARReticle = false --export: Enable AR reticle\njson=require('dkjson')quat=require('cpml/quat')vec3=require('cpml/vec3')const=require('cpml/constants')vec2=require('cpml/vec2')utils=require('cpml/utils')mat4=require(\"cpml/mat4\")mouseDeltaSum=vec2(0,0)local function a(b)if b>0 then return 1 elseif b<0 then return-1 else return 0 end end;function scaleViewBoundsY(c)local d=0;local e=1250/mouseSensitivity;local f=-(system.getScreenHeight()/2)local g=system.getScreenHeight()/2;return(c-d)/(e-d)*(g-f)+f end;function scaleViewBoundsX(h)local d=1;local e=-1;if a(forwardX.x)==-1 and a(forwardX.y)==-1 then d=-1;e=1 elseif a(forwardX.x)==1 and a(forwardX.y)==-1 then d=-1;e=1 end;local f=-(system.getScreenHeight()/2)local g=system.getScreenHeight()/2;return(h-d)/(e-d)*(g-f)+f end;function scaleViewBound(d,e,f,g,i)return(i-d)/(e-d)*(g-f)+f end;function deltaSum(j,k)local l=0;local m=0;if j.y+k.y<=0 then m=0 elseif j.y+k.y>=1250/mouseSensitivity then m=1250/mouseSensitivity else m=j.y+k.y end;return vec2(l,m)end;function updateAR()local n=vec2(system.getMouseDeltaX(),system.getMouseDeltaY())mouseDeltaSum=deltaSum(mouseDeltaSum,n)playerQ=quat(unit.getMasterPlayerRelativeOrientation())forwardX=playerQ*vec3(core.getConstructOrientationForward())ship.viewY=scaleViewBoundsY(mouseDeltaSum.y)ship.viewX=scaleViewBoundsX(forwardX.x)end\n",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "21"
        }, {
            "code": "--@class StartupSettings\n\nfunction StartupSettings()\n\n    self.inertialDampening = true\n    self.followGravity = true\n    self.followTerrain = false\n    self.idIntensity = 5\n\n    function self.bool_to_number(value)\n        return value and 1 or 0\n    end\n    function self.number_to_bool(value)\n        if value == 1 then return true else return false end\n    end\n    \n    function self.writeToDatabank()\n        --flightModeDb\n        if flightModeDb ~= nil then\n            flightModeDb.setIntValue(\"inertialDampening\",self.bool_to_number(self.inertialDampening))\n            flightModeDb.setIntValue(\"followGravity\",self.bool_to_number(self.followGravity))\n            flightModeDb.setIntValue(\"followTerrain\",self.bool_to_number(self.followTerrain))\n        end\n    end\n\n    function self.readFromDatabank()\n        if flightModeDb ~= nil then\n            if flightModeDb.hasKey(\"inertialDampening\") == 1 then\n                ship.inertialDampeningDesired = self.number_to_bool(flightModeDb.getIntValue(\"inertialDampening\"))\n                self.inertialDampening = ship.inertialDampeningDesired\n            end\n            if flightModeDb.hasKey(\"followGravity\") == 1 then\n                ship.followGravity = self.number_to_bool(flightModeDb.getIntValue(\"followGravity\"))\n                self.followGravity = ship.followGravity\n            end\n            if flightModeDb.hasKey(\"followTerrain\") == 1 then\n                ship.followTerrain = self.number_to_bool(flightModeDb.getIntValue(\"followTerrain\"))\n                self.followTerrain = ship.followTerrain\n            end\n            if flightModeDb.hasKey(\"IDIntensity\") == 1 then\n                ship.IDIntensity = flightModeDb.getIntValue(\"IDIntensity\")\n            end\n            if flightModeDb.hasKey(\"hoverHeight\") == 1 then\n                ship.hoverHeight = flightModeDb.getIntValue(\"hoverHeight\")\n            end\n            if flightModeDb.hasKey(\"hoverIntensity\") == 1 then\n                ship.hoverIntensity = flightModeDb.getIntValue(\"hoverIntensity\")\n            end\n            if flightModeDb.hasKey(\"minRotationSpeed\") == 1 then\n                ship.minRotationSpeed = flightModeDb.getFloatValue(\"minRotationSpeed\")\n            end\n            if flightModeDb.hasKey(\"rotationStep\") == 1 then\n                ship.rotationStep = flightModeDb.getFloatValue(\"rotationStep\")\n            end\n            if flightModeDb.hasKey(\"maxRotationSpeedz\") == 1 then\n                ship.maxRotationSpeedz = flightModeDb.getFloatValue(\"maxRotationSpeedz\")\n            end\n        end\n    end\n    return self\nend\n\nstartupSettings = StartupSettings()",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "22"
        }, {
            "code": "--@class SHUD\nvec2 = require('cpml/vec2')\nmat4 = require(\"cpml/mat4\")\nlocal json = require(\"dkjson\") -- For AGG\nlocal format = string.format\nfunction round2(num, numDecimalPlaces)\n    if num ~= nil then\n    return tonumber(string.format(\"%.\" .. (numDecimalPlaces or 0) .. \"f\", num))\n        end\nend\n\nif next(manualSwitches) ~= nil then \n    for _, sw in ipairs(manualSwitches) do\n      system.print(\"Deactivate!\")\n      sw.deactivate()\n    end\n  end\n\nfunction SpeedConvert(value)\n    if not value or value == 0 then return {0,\"00\",\"km/h\"} end\n    if value > 5000 then\n        local ending = tonumber(tostring(round2(value/55.55, 2)):match(\"%.(%d+)\"))\n        ending = string.format(\"%02d\",ending)\n        return {round2(value/55.55),ending,\"su/h\"}   \n    end\n    local ending = tonumber(tostring(round2(value/3.6, 2)):match(\"%.(%d+)\"))\n    ending = string.format(\"%02d\",ending)\n    return {round2(value*3.6),ending,\"km/h\"}\nend\n\nfunction CruiseControl(value)\n    local appliedCruise = 0\n    \n    \n    if ship.cruiseSpeed < 500 then appliedCruise = value * 10\n    elseif ship.cruiseSpeed >= 500 and ship.cruiseSpeed <= 1999 then appliedCruise = value * 50 \n    elseif ship.cruiseSpeed >= 2000 and ship.cruiseSpeed <= 9999 then appliedCruise = value * 100 \n    elseif ship.cruiseSpeed >= 10000 then appliedCruise = value * 1000 end\n    \n    \n    ship.cruiseSpeed = utils.clamp(ship.cruiseSpeed + appliedCruise,-29990,29990) \nend\n\nfunction getControlMode()\n    if ship.alternateCM then \n        return \"Cruise\"\n    else\n        return \"Travel\"\n    end\nend\n\naltHoldAdjustment = 0.1\naltAdjustment = 3\n\nfunction altHoldAdjustmentSetting()\n    return altHoldAdjustment * (10^altAdjustment)\nend\n\n\nfunction setAltHoldAdjustment()\n    \nend\n\n\nfunction SHUDMenuItem(content, action, update)\n    local self = {}\n    self.Enabled = true\n    self.Active = false\n    self.Content = content\n    self.Class = \"\"\n    self.Action = action or function(system, unit, self) end\n    self.Update = update or function(system, unit, self) end\n\n    function self.Disable()\n        self.Enabled = false\n        return self\n    end\n\n    function self.Enable()\n        self.True = false\n        return self\n    end\n\n    function self.Lock()\n        SHUD.ScrollLock = true\n        self.Active = true\n        self.Class = \"locked\"\n        return self\n    end\n\n    function self.Unlock()\n        SHUD.ScrollLock = false\n        self.Active = false\n        self.Class = \"\"\n        return self\n    end\n\n    return self\nend\n\n\n\nSHUD =\n(function()\n    local self = {}\n    self.Enabled = false\n    self.FreezeUpdate = false\n    self.IntroPassed = false\n\n    self.FOV = system.getFov()\n    self.ScreenW = system.getScreenWidth()\n    self.ScreenH = system.getScreenHeight()\n    self.Resolution = vec2(self.ScreenW, self.ScreenH)\n    \n    self.SvgMinX = -round((self.ScreenW / 4) / 2,0)\n    self.SvgMinY = -round((self.ScreenH / 4) / 2,0)\n    self.SvgWidth = round(self.ScreenW / 4,0)\n    self.SvgHeight = round(self.ScreenH / 4,0)\n\n    function scaleViewBounds(input)\n        local rMin = -0.5\n        local rMax = 0.5\n        local tMin = -90\n        local tMax = 90\n        return -(((input - rMin) / (rMax - rMin)) * (tMax - tMin) + tMin)\n    end\n\n    shipPitch = scaleViewBounds(ship.pitchRatio)\n\n    self.SHUDFuelHtml = \"\"\n    \n    self.Markers = {}\n        \n    self.MarkerBuffer = {}\n\n    function self.worldToScreen(pos)\n        local P = mat4():perspective(self.FOV, self.ScreenW/self.ScreenH, 0.1, 100000)\n        local adjustedPos = ship.world.position - vec3(unit.getMasterPlayerRelativePosition())\n        local V = mat4():look_at(adjustedPos, adjustedPos + ship.world.forward, ship.world.up)\n\n        local pos = V * P * { pos.x, pos.y, pos.z, 1 }\n\n        pos[1] = pos[1] / pos[4] * 0.5 + 0.5\n        pos[2] = pos[2] / pos[4] * 0.5 + 0.5\n\n        pos[1] = pos[1] * 100\n        pos[2] = pos[2] * 100\n\n        return vec3(pos[1], pos[2], pos[3])\n    end\n\n    local SMI = SHUDMenuItem\n    local DD = DynamicDocument\n    \n    function self.UpdateMarkers()\n        self.MarkerBuffer = {}\n        for i=1,#self.Markers do\n            local m = self.Markers[i]\n            local marker = {}\n            local p = vec3(0,0,0)\n            if type(m.Position) == \"function\" then marker.pos = m.Position() p = m.Position() else marker.pos = m.Position p = m.Position end\n            marker.pos = self.worldToScreen(marker.pos)\n            marker.class = m.Class\n            marker.content = '&nbsp;'\n            if m.Name then marker.content = [[<div class=\"name\">]] .. m.Name .. [[</div>]] end\n            if m.ShowDistance then marker.content = marker.content .. [[<div class=\"distance\">]] .. round2((ship.world.position - p):len()) .. [[m</div>]] end\n            if marker.pos.z > 0 then self.MarkerBuffer[#self.MarkerBuffer + 1] = marker end\n        end\n    end\n\n    local function esc(x)\n        return (x:gsub(\"%%\", \"%%%%\"))\n    end\n\n        \n    function mToKm(n)\n        if n >= 1000 then\n            return round2((n / 1000),2) .. \" km\"\n        else\n            return round2(n,2) .. \" m\"\n        end\n    end\n    function updateSettings()\n        if flightModeDb ~= nil then\n            flightModeDb.setIntValue(\"hoverHeight\",ship.hoverHeight)\n        end\n        if flightModeDb ~= nil then\n            flightModeDb.setIntValue(\"IDIntensity\",ship.IDIntensity)\n        end\n        if flightModeDb ~= nil then\n            flightModeDb.setIntValue(\"hoverIntensity\",ship.hoverIntensity)\n        end\n        if flightModeDb ~= nil then\n            flightModeDb.setFloatValue(\"minRotationSpeed\",ship.minRotationSpeed)\n        end\n        if flightModeDb ~= nil then\n            flightModeDb.setFloatValue(\"rotationStep\",ship.rotationStep)\n        end\n        if flightModeDb ~= nil then\n            flightModeDb.setFloatValue(\"maxRotationSpeedz\",ship.maxRotationSpeedz)\n        end\n    end\n    function self.MakeBooleanIndicator(varName)\n        local tmpl = [[<span class=\"right\">\n            <i dd-if=\"varName == true\">&nbsp;</i>\n            <i dd-if=\"varName == false\">&nbsp;</i>\n        </span>]]\n        return tmpl:gsub(\"varName\", esc(varName))\n    end\n\n    function self.MakeSliderIndicator(varName, suffix)\n        suffix = suffix or \"\"\n        local tmpl = [[<span class=\"right\">{{varName}}{{suffix}}<i>&udarr;&nbsp;</i></span>]]\n        return tmpl:gsub(\"varName\", esc(varName)):gsub(\"{{suffix}}\", esc(suffix))\n    end\n\n    function self.GenerateMenuLink(text, link)\n        return SMI(text..self.MenuIcon,  function() self.SelectMenu(link) end)\n    end\n\n    self.MenuIcon = [[<span class=\"right\"><i>&gt;&nbsp;</i></span>]]\n    self.BackButton = SMI([[<i>&lt;&nbsp;</i>&nbsp;]]..\"Back\", function() SHUD.Menu = SHUD.MenuList.prev SHUD.CurrentIndex = 1 end)\n    self.Menu = {\n            SMI(DD([[<span>Throttle<span>]]..self.MakeSliderIndicator(\"round2(ship.throttle * 100)\", \"%\")), \n                function(_, _, w) if w.Active then w.Unlock() else w.Lock() end end,\n                function(system, _ , w) ship.throttle = utils.clamp(ship.throttle + (system.getMouseWheel() * 0.05),-1,1) end),\n            SMI(DD([[<span>Hover Height<span>]]..self.MakeSliderIndicator(\"ship.hoverHeight\", \"m\")), \n                function(_, _, w) if w.Active then w.Unlock() else w.Lock() end end,\n                function(system, _ , w) ship.hoverHeight = utils.clamp(ship.hoverHeight + (system.getMouseWheel()),0,35) end),\n            self.GenerateMenuLink(\"Flight Mode\", \"flightMode\"),\n            self.GenerateMenuLink(\"Stability Assist\", \"stability\"),\n            self.GenerateMenuLink(\"Steering\", \"steering\"),\n            self.GenerateMenuLink(\"Startup Settings\", \"startupSettings\"),\n            self.GenerateMenuLink(\"Ship Stats\", \"shipStats\"),\n            SMI([[<i>&#9432;&nbsp;</i><span>&nbsp;Hotkeys</span>]]..self.MenuIcon, function() self.SelectMenu(\"hotkeys\") end)\n    }\n    self.MenuList = {}\n    self.MenuList.flightMode = {}\n    self.MenuList.shipStats = {\n        SMI(DD([[<span>Core ID:</span><span class=\"right\">{{ship.id}}</span>]])).Disable(),\n        SMI(DD([[<span>Mass:</span><span class=\"right\">{{round2(ship.mass/1000,2)}} Ton</span>]])).Disable(),\n        SMI(DD([[<span>FMax:</span><span class=\"right\">{{round2(ship.fMax/1000,2)}} KN</span>]])).Disable(),\n        SMI(DD([[<span>Pos X:</span><span class=\"right\">{{round2(ship.world.position.x)}}</span>]])).Disable(),\n        SMI(DD([[<span>Pos Y:</span><span class=\"right\">{{round2(ship.world.position.y)}}</span>]])).Disable(),\n        SMI(DD([[<span>Pos Z:</span><span class=\"right\">{{round2(ship.world.position.z)}}</span>]])).Disable(),\n    }\n    \n    self.MenuList.stability = {\n        SMI(DD(\"<span>Gravity Suppression<span>\" .. self.MakeBooleanIndicator(\"ship.counterGravity\")), function() ship.counterGravity = not ship.counterGravity end),\n        SMI(DD(\"<span>Gravity Follow</span>\" .. self.MakeBooleanIndicator(\"ship.followGravity\")), function() ship.followGravity = not ship.followGravity end),\n        SMI(DD(\"<span>Terrain Follow</span>\" .. self.MakeBooleanIndicator(\"ship.followTerrain\")), function() ship.followTerrain = not ship.followTerrain end),\n        SMI(DD(\"<span>Inertial Dampening<span>\" .. self.MakeBooleanIndicator(\"ship.inertialDampening\")), function() ship.inertialDampeningDesired = not ship.inertialDampeningDesired end),\n        SMI(DD([[<span>ID Intensity<span>]]..self.MakeSliderIndicator(\"ship.IDIntensity\", \"\")),\n                function(_, _, w) if w.Active then w.Unlock() else w.Lock() end end,\n                function(system, _ , w) ship.IDIntensity = utils.clamp(ship.IDIntensity + (system.getMouseWheel()),0,10) end),\n        SMI(DD([[<span>Hover Height<span>]]..self.MakeSliderIndicator(\"ship.hoverHeight\", \"m\")),\n               function(_, _, w) if w.Active then w.Unlock() else w.Lock() end end,\n               function(system, _ , w) ship.hoverHeight = utils.clamp(ship.hoverHeight + (system.getMouseWheel()),0,35) end),\n        SMI(DD([[<span>Hover Stiffness<span>]]..self.MakeSliderIndicator(\"ship.hoverIntensity\", \"\")),\n               function(_, _, w) if w.Active then w.Unlock() else w.Lock() end end,\n               function(system, _ , w) ship.hoverIntensity = utils.clamp(ship.hoverIntensity + (system.getMouseWheel()),1,30) end),\n    }\n    self.MenuList.steering = {\n        SMI(DD([[<span>Initial Speed<span>]]..self.MakeSliderIndicator(\"round2(ship.minRotationSpeed,1)\", \"\")),\n                function(_, _, w) if w.Active then w.Unlock() else w.Lock() end end,\n                function(system, _ , w) ship.minRotationSpeed = utils.clamp(ship.minRotationSpeed + (system.getMouseWheel() * 0.1),0,10) end),\n        SMI(DD([[<span>Autoscale Step<span>]]..self.MakeSliderIndicator(\"ship.rotationStep\", \"\")),\n                function(_, _, w) if w.Active then w.Unlock() else w.Lock() end end,\n                function(system, _ , w) ship.rotationStep = utils.clamp(ship.rotationStep + (system.getMouseWheel() * 0.01),0,1) end),\n        SMI(DD([[<span>Max Speed<span>]]..self.MakeSliderIndicator(\"ship.maxRotationSpeedz\", \"\")),\n                function(_, _, w) if w.Active then w.Unlock() else w.Lock() end end,\n                function(system, _ , w) ship.maxRotationSpeedz = utils.clamp(ship.maxRotationSpeedz + (system.getMouseWheel() * 0.1),0,60) end)\n    }\n    self.MenuList.startupSettings = {\n        --IDIntensity\n        SMI(DD(\"<span>Inertial Dampening</span>\" .. self.MakeBooleanIndicator(\"startupSettings.inertialDampening\")), function() startupSettings.inertialDampening = not startupSettings.inertialDampening end),\n        SMI(DD(\"<span>Gravity Follow</span>\" .. self.MakeBooleanIndicator(\"startupSettings.followGravity\")), function() startupSettings.followGravity = not startupSettings.followGravity end),\n        SMI(DD(\"<span>Terrain Follow</span>\" .. self.MakeBooleanIndicator(\"startupSettings.followTerrain\")), function() startupSettings.followTerrain = not startupSettings.followTerrain end)\n    }\n    self.MenuList.hotkeys = {}\n    \n    local fa = \"<style>\" .. CSS_SHUD .. \"</style>\"\n    self.fuel = nil\n    function getFuelRenderedHtml()\n        local fuelHtmlAtmo = \"\"\n        local fuelHtmlSpace = \"\"\n        local fuelHtmlRocket = \"\"\n        \n        self.fuel = getFuelSituation()\n        local fuelHtml = \"\"\n\n        local mkTankHtml = (function (type, tank)\n            local tankLevel = 100 * tank.level\n            local tankLiters = tank.level * tank.specs.capacity()\n            return '<div class=\"fuel-meter fuel-type-' .. type .. '\"><hr class=\"fuel-level\" style=\"width:' .. tankLevel .. '%%;\" />' .. tank.time .. ' (' .. math.floor(tankLevel) .. '%%, ' .. math.floor(tankLiters) .. 'L)</div>'\n        end)\n\n        for _, tank in pairs(self.fuel.atmo) do fuelHtml = fuelHtml .. mkTankHtml(\"atmo\", tank) end\n        for _, tank in pairs(self.fuel.space) do fuelHtml = fuelHtml .. mkTankHtml(\"space\", tank) end\n        for _, tank in pairs(self.fuel.rocket) do fuelHtml = fuelHtml .. mkTankHtml(\"rocket\", tank) end\n\n        self.SHUDFuelHtml = fuelHtml\n    end\n\n    \n    opacity = 1.0\n    local template = DD(fa..[[\n    <div id=\"horizon\" style=\"opacity: {{opacity}};\">\n        <div id=\"speedometerBar\">&nbsp;</div>\n           <div id=\"speedometer\">\n               <span class=\"display\">\n               \t<span class=\"major\">{{SpeedConvert(ship.world.velocity:len())[1]}}</span>\n               \t<span class=\"minor\">{{SpeedConvert(ship.world.velocity:len())[2]}}</span>\n               \t<span class=\"unit\">{{SpeedConvert(ship.world.velocity:len())[3]}}</span>\n               </span>\n               <span class=\"accel\">\n               \t<span class=\"major\">{{round2(ship.world.acceleration:len(), 1)}}</span>\n               \t<span class=\"unit\">m/s</span>\n               </span>\n               <span class=\"vertical\">\n               \t{{round2(ship.world.velocity:dot(-ship.world.gravity:normalize()), 1)}}\n               </span>\n               <span class=\"alt\">\n               \t{{round2(ship.altitude)}}m\n               </span>\n               \n               <span class=\"misc\">ATM {{round2(ship.world.atmosphericDensity, 2)}} | G {{round2(ship.world.gravity:len(), 2)}}m/s</span>\n               <span dd-if=\"not ship.alternateCM\" class=\"throttle\">Throttle {{round2(ship.throttle * 100)}}%</span>\n\t\t     <span dd-if=\"ship.alternateCM\" class=\"throttle\">Cruise {{round2(ship.cruiseSpeed)}} km/h</span>\n            </div>\n        \n            <div id=\"horizon-menu\">\n                {{_SHUDBUFFER}}\n            </div>\n        \n            </div>\n            <div id=\"fuelTanks\">{{ SHUD.SHUDFuelHtml }}</div>\n    \n    </div>\n    \n    ]])\n    local itemTemplate = [[<div class=\"item {{class}}\">{{content}}</div>]]\n    function self.SelectMenu(menuName)\n        if not SHUD.MenuList[menuName] then error(\"[SHUD] Undefined menu: \" .. menuName) end\n        SHUD.MenuList.prev = SHUD.Menu\n        SHUD.Menu = SHUD.MenuList[menuName]\n        SHUD.CurrentIndex = 1\n        if SHUD.Menu[#SHUD.Menu] ~= SHUD.BackButton then table.insert(SHUD.Menu, SHUD.BackButton) end\n    end\n\n    function self.Select()\n        if not self.Enabled then return end\n        if #self.Menu < 1 then\n            return\n        end\n        self.Menu[self.CurrentIndex].Action(self.system, self.unit, self.Menu[self.CurrentIndex])\n    end\n\n    function self.Render()\n        local buffer = \"\"\n        if self.Enabled then \n            for i = 1, #self.Menu do\n                local item = self.Menu[i]\n                if item.Active then item.Update(self.system, self.unit, item) end\n                local lb = itemTemplate\n                local cls = \"\"\n                local content = item.Content\n                if content.Read then\n                    content = content.Read()\n                end\n                content = esc(content)\n                if self.CurrentIndex == i then\n                    cls = \"active\"\n                end\n                if not item.Enabled then cls = cls .. \" disabled\" end\n                lb = lb:gsub(\"{{class}}\", cls .. \" \" .. item.Class)\n                lb = lb:gsub(\"{{content}}\", content)\n                buffer = buffer .. lb\n            end\n            _ENV[\"_SHUDBUFFER\"] = esc(buffer)\n        else\n            if system.isFrozen() == 0 then ship.frozen = true else ship.frozen = false end\n            _ENV[\"_SHUDBUFFER\"] = DD([[<div class=\"item helpText\">Press ]] .. \"[\" .. self.system.getActionKeyName(\"speedup\") .. \"]\" .. [[ to  toggle menu</div>\n                    <div class=\"item helpText\"><span>Ground Clearance:</span>]].. self.MakeSliderIndicator(\"round2(ship.hoverDistance,2)\",\"m\") .. [[</div>\n                    <div class=\"item helpText\"><span>Follow Terrain:</span>]].. self.MakeBooleanIndicator(\"ship.followTerrain\") .. [[</div>\n                    <div class=\"item helpText\"><span>Inertial Dampening:</span>]].. self.MakeBooleanIndicator(\"ship.inertialDampening\") .. [[</div>\n                    <div class=\"item helpText\"><span>Gravity Follow:</span>]].. self.MakeBooleanIndicator(\"ship.followGravity\") .. [[</div>\n                    <div class=\"item helpText\"><span>Gravity Supression:</span>]].. self.MakeBooleanIndicator(\"ship.counterGravity\") .. [[</div>\n                    ]]).Read()\n        end\n        if not self.FreezeUpdate then self.system.setScreen(template.Read()) end\n    end\n\n    function self.Update()\n        if not self.ScrollLock and self.Enabled then\n            local wheel = system.getMouseWheel()\n            if wheel ~= 0 then\n                self.CurrentIndex = self.CurrentIndex - wheel\n                if self.CurrentIndex > #self.Menu then self.CurrentIndex = 1\n                elseif self.CurrentIndex < 1 then self.CurrentIndex = #self.Menu end\n            end\n        elseif self.ScrollLock and self.Enabled then\n            local wheel = system.getMouseWheel()\n            if wheel ~= 0 then\n                updateSettings()\n            end\n        elseif not self.Enabled then\n            ship.throttle = utils.clamp(ship.throttle + (system.getMouseWheel() * 0.05),-1,1)\n        --self.UpdateMarkers()\n\t\tend\n\nend\n    function self.Init(system, unit, keybinds)\n        self.system = system\n        self.unit = unit\n        self.CurrentIndex = 1\n        self.ScrollLock = false\n        system.showScreen(1)\n        unit.hide()\n        local keys = keybinds.GetNamedKeybinds()\n        self.MenuList.hotkeys = {}\n        for i=1,#keys do\n            local key = keys[i]\n            table.insert(self.MenuList.hotkeys, SMI([[<span>]]..key.Name..[[</span><span class=\"right\">]]..self.system.getActionKeyName(key.Key)..[[</span>]]).Disable())\n        end\n\n        self.MenuList.flightMode = {}\n        for k,v in pairs(keybindPresets) do\n            table.insert(self.MenuList.flightMode,\n            SMI(string.upper(k), function() \n                self.Init(self.system, self.unit, v)\n                keybindPreset = k\n                keybindPresets[keybindPreset].Init()\n            end))\n        end\n        \n        keybinds.Init()\n    end\n\n    return self\nend)()\n\n\n\n\n\n\n",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "23"
        }, {
            "code": "--@class MouseMovement\n--[[\n    Shadow Templar Mouse Movement\n    Version 1.2\n\n    Requires: STEC\n    Note: Always apply() before STEC.apply() !\n]]\n\nfunction STMM(stec, system)\n    local self = {}\n    self.enabled = true\n    self.enableX = true\n    self.enableY = true\n    self.sensitivity = 0.001\n    self.threshold = 0.05\n    self.deltaClamp = 3000\n    self.recenterSpeed = 20\n    self.deltaPos = vec3(0, 0, 0)\n    self.system = system\n\n    local isLocked = false\n    \n    function self.lock()\n        isLocked = true\n        system.lockView(1)\n    end\n\n    function self.unlock()\n        isLocked = false\n        system.lockView(0)\n    end\n\n    function self.isLocked()\n        return isLocked\n    end\n\n    function self.toggleLock()\n        if self.isLocked() then self.unlock() else self.lock() end\n    end\n\n    function clamp(n, min, max)\n        return math.min(max, math.max(n, min))\n    end\n\n    function withinThreshold(n ,threshold)\n        return (n > threshold and n > 0) or (n < -threshold and n < 0)\n    end\n\n    function self.apply()\n        if not self.enabled then return end\n        self.deltaPos = ( self.deltaPos - ( self.deltaPos / self.recenterSpeed )) - vec3(self.system.getMouseDeltaX() * self.sensitivity, self.system.getMouseDeltaY() * self.sensitivity, 0)\n        self.deltaPos = vec3(clamp(self.deltaPos.x, -self.deltaClamp, self.deltaClamp), clamp(self.deltaPos.y, -self.deltaClamp, self.deltaClamp), 0)\n        if withinThreshold(self.deltaPos.x, self.threshold) then\n             if self.enableX then stec.rotation.z = self.deltaPos.x end\n        else\n            if self.enableX then stec.rotation.z = 0 end\n        end\n        if withinThreshold(self.deltaPos.y, self.threshold) then\n            --if self.enableY then stec.rotation.x = self.deltaPos.y end\n        else\n            if self.enableY then stec.rotation.x = 0 end\n        end\n    end\n    self.lock()\n    return self\nend\n\nmouse = STMM(ship, system)\n\n\n",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "24"
        }, {
            "code": "--@class STEC_Config\nshipName = \"\"\nlocal updateSettings = false --export: Use these settings\nlocal inertialDampening = true --export: Start with inertial dampening on/off\nlocal followGravity = true --export: Start with gravity follow on/off\nlocal minRotationSpeed = 0.4 --export: Minimum speed rotation scales from\nlocal maxRotationSpeed = 24 --export: Maximum speed rotation scales to\nlocal rotationStep = 0.3 --export: Depermines how quickly rotation scales up\nshowDockingWidget = true --export: Show Docking Widget\ndockingMode = 1 --export: Set docking mode (0:Manual, 1:Automatic, 2:Semi-Automatic)\nsetBaseOnStart = false --export: Set RTB location on start\nactivateFFonStart = false --export: Activate force fields on start (connected to button)\nlocal pocket = false --export: Pocket ship?\nlocal autoRoll = 2.5 --export:\n--charMovement = true --export: Enable/Disable Character Movement\nship.autoShutdown = autoShutdown\nship.altitudeHold = round2(ship.altitude,0)\nship.inertialDampeningDesired = inertialDampening\nship.followGravity = followGravity\nship.minRotationSpeed = minRotationSpeed\nship.maxRotationSpeedz = maxRotationSpeed\nship.rotationStep = rotationStep\n\nship.pocket = pocket\n\nlocal shiftLock = false\n\nunit.switchOnHeadlights()\nif core.setDockingMode(dockingMode) then\n    system.print(\"Docking mode set successfully\")\nelse\n    system.print(\"Invalid docking mode\")\nend\n\nfunction gearToggle()\n\tif unit.isAnyLandingGearExtended() == 1 then\n\t\tunit.retractLandingGears()\n\telse\n\t\tunit.extendLandingGears()\n\tend\nend\nfunction scaleViewBound(rMin,rMax,tMin,tMax,input)\n    return ((input - rMin) / (rMax - rMin)) * (tMax - tMin) + tMin\nend\nfunction switchFlightMode(flightMode)\n    SHUD.Init(system, unit, keybindPresets[flightMode]) \n    keybindPreset = flightMode\n    if flightModeDb then flightModeDb.setStringValue(\"flightMode\",flightMode) end\nend\n\nfunction switchControlMode()\n    if ship.alternateCM == false then ship.alternateCM = true\n        else ship.alternateCM = false end\nend\n\nfunction swapForceFields()\n    if manualSwitches ~= nil then\n        if system.isFrozen() == 1 then\n            manualSwitches[1].activate()\n            for _, sw in ipairs(forceFields) do\n                sw.deactivate()\n            end\n        else\n            manualSwitches[1].deactivate()\n            for _, sw in ipairs(forceFields) do\n                sw.activate()\n            end\n        end\n    end\n\nend\nfunction toggleCharacterLock()\n    system.freeze( math.abs(1 - system.isFrozen()))\nend\n\nfunction clearDb()\n    if flightModeDb ~= nil then\n        flightModeDb.clear()\n        system.print(\"Databank wiped.\")\n    end\nend\n\nship.baseAltitude = helios:closestBody(ship.customTarget):getAltitude(ship.customTarget)\nsystem.print(\"Altitude: \"..ship.baseAltitude)\nfunction moveWaypointZ(vector, altitude)\n    return (vector - (ship.nearestPlanet:getGravity(vector)):normalize() * (altitude))\nend\n\nlocal tty = DUTTY\ntty.onCommand('setbase', function(a)\n   \nend)\n\nkeybindPresets[\"keyboard\"] = KeybindController()\nkeybindPresets[\"keyboard\"].Init = function()\n    keybindPreset = \"keyboard\"\n    mouse.enabled = false\n    mouse.unlock()\n    ship.ignoreVerticalThrottle = true\n    ship.counterGravity = false\n    ship.throttle = 1\n    --ship.direction.y = 0\nend\n\n\n\n-- keyboard\nif ship.flippedCore then\n    keybindPresets[\"keyboard\"].keyDown.up.Add(function () ship.holdAlt = true; ship.counterGravity = true; ship.rotation.x = -0.15  end) --space\n    keybindPresets[\"keyboard\"].keyUp.up.Add(function () ship.rotation.x = 0  end) --space\n    keybindPresets[\"keyboard\"].keyDown.down.Add(function () ship.rotation.x = 0.15  end) --c\n    keybindPresets[\"keyboard\"].keyUp.down.Add(function () ship.rotation.x = 0  end) --c\n\n    keybindPresets[\"keyboard\"].keyDown.yawleft.Add(function () ship.rotation.y = -autoRoll ship.rotation.z = 1 end) --a\n    keybindPresets[\"keyboard\"].keyUp.yawleft.Add(function () ship.rotation.y = 0 ship.rotation.z = 0 ship.rotationSpeedz = ship.minRotationSpeed end) --a\n    keybindPresets[\"keyboard\"].keyDown.yawright.Add(function () ship.rotation.y = autoRoll ship.rotation.z = -1 end) --d\n    keybindPresets[\"keyboard\"].keyUp.yawright.Add(function () ship.rotation.y = 0 ship.rotation.z = 0 ship.rotationSpeedz = ship.minRotationSpeed end) --d\nelse\n    keybindPresets[\"keyboard\"].keyDown.up.Add(function () ship.rotation.x = 0.15  end) --space\n    keybindPresets[\"keyboard\"].keyUp.up.Add(function () ship.rotation.x = 0  end) --space\n    keybindPresets[\"keyboard\"].keyDown.down.Add(function () ship.rotation.x = -0.15  end) --c\n    keybindPresets[\"keyboard\"].keyUp.down.Add(function () ship.rotation.x = 0  end) --c\n\n    keybindPresets[\"keyboard\"].keyDown.yawleft.Add(function () ship.rotation.y = -autoRoll ship.rotation.z = -1 end) --a\n    keybindPresets[\"keyboard\"].keyUp.yawleft.Add(function () ship.rotation.y = 0 ship.rotation.z = 0 ship.rotationSpeedz = ship.minRotationSpeed end) --a\n    keybindPresets[\"keyboard\"].keyDown.yawright.Add(function () ship.rotation.y = autoRoll ship.rotation.z = 1 end) --d\n    keybindPresets[\"keyboard\"].keyUp.yawright.Add(function () ship.rotation.y = 0 ship.rotation.z = 0 ship.rotationSpeedz = ship.minRotationSpeed end) --d\nend\n\n\n\n\nkeybindPresets[\"keyboard\"].keyDown.forward.Add(function () ship.direction.y = 1 end) --w\nkeybindPresets[\"keyboard\"].keyUp.forward.Add(function () ship.direction.y = 0 end) --w\n\n\nkeybindPresets[\"keyboard\"].keyDown.backward.Add(function () ship.direction.y = -1 end) --s\nkeybindPresets[\"keyboard\"].keyUp.backward.Add(function () ship.direction.y = 0 end) --s\n\nkeybindPresets[\"keyboard\"].keyDown.left.Add(function () ship.direction.x = 1 end) --q\nkeybindPresets[\"keyboard\"].keyUp.left.Add(function () ship.direction.x = 0 end) --q\nkeybindPresets[\"keyboard\"].keyDown.right.Add(function () ship.direction.x = -1 end) --e\nkeybindPresets[\"keyboard\"].keyUp.right.Add(function () ship.direction.x = 0 end) --e\n\nkeybindPresets[\"keyboard\"].keyDown.brake.Add(function () ship.brake = true end) --ctrl\nkeybindPresets[\"keyboard\"].keyUp.brake.Add(function () ship.brake = false end) --ctrl\nkeybindPresets[\"keyboard\"].keyDown.lshift.Add(function () shiftLock = true end,\"Shift Modifier\")\nkeybindPresets[\"keyboard\"].keyUp.lshift.Add(function () shiftLock = false end,\"Shift Modifier\")\n\n--keybindPresets[\"keyboard\"].keyDown.stopengines.Add(function () if ship.direction.y == 1 then ship.direction.y = 0 else ship.direction.y = 1 end end, \"Cruise\")\nkeybindPresets[\"keyboard\"].keyUp.stopengines.Add(function () SHUD.Select() if not SHUD.Enabled then if ship.direction.y == 1 then ship.direction.y = 0 else ship.direction.y = 1 end end end, \"Cruise\")\nkeybindPresets[\"keyboard\"].keyUp.speeddown.Add(function () if mouse.enabled then mouse.unlock() mouse.enabled = false else mouse.lock() mouse.enabled = true end end, \"Mouse Steering\")\n\n\n\nkeybindPresets[\"keyboard\"].keyUp.gear.Add(function ()\n    if shiftLock then \n        toggleCharacterLock() \n    else\n        ship.holdAlt = not ship.holdAlt ship.counterGravity = ship.holdAlt\n    end\nend) --g\n\nlocal function toggleFollowTarrain()\n    ship.followTerrain = not ship.followTerrain\n    ship.followGravity = not ship.followTerrain\nend\nlocal function toggleFollowGravity()\n    ship.followGravity = not ship.followGravity\n    ship.followTerrain = not ship.followGravity\nend\n\nkeybindPresets[\"keyboard\"].keyUp.speedup.Add(function () SHUD.Enabled = not SHUD.Enabled end) --r\n\nkeybindPresets[\"keyboard\"].keyDown.lshift.Add(function () ship.inertialDampeningDesired = false end,\"ID Toggle\")\nkeybindPresets[\"keyboard\"].keyUp.lshift.Add(function () ship.inertialDampeningDesired = true end,\"ID Toggle\")\n\nkeybindPresets[\"keyboard\"].keyUp[\"option3\"].Add(function () toggleFollowTarrain() end, \"Follow Terrain\")\nkeybindPresets[\"keyboard\"].keyUp[\"option4\"].Add(function () toggleFollowGravity() end, \"Follow Gravity\")\nkeybindPresets[\"keyboard\"].keyUp[\"option5\"].Add(function () switchFlightMode(\"mouse\") end,\"Switch Flight Mode\")\nkeybindPresets[\"keyboard\"].keyUp[\"option6\"].Add(function () ship.inertialDampeningDesired = not ship.inertialDampeningDesired end, \"Inertial Dampening\")\n--keybindPresets[\"keyboard\"].keyUp[\"option6\"].Add(function () ship.verticalLock = not ship.verticalLock end,\"Toggle Vertical Lock\")\nkeybindPresets[\"keyboard\"].keyUp[\"option8\"].Add(function () core.setDockingMode(0); core.undock() end,\"Undock\")\nkeybindPresets[\"keyboard\"].keyUp[\"option9\"].Add(function () clearDb() end,\"Clear Databank\")\n\n\n    keybindPresets[\"mouse\"] = KeybindController()\n    keybindPresets[\"mouse\"].Init = function()\n        mouse.enabled = true\n        mouse.lock()\n        ship.ignoreVerticalThrottle = true\n        ship.throttle = 1\n        ship.direction.y = 0\n    end\n    \n-- mouse\nkeybindPresets[\"mouse\"].keyDown.up.Add(function () ship.direction.z = -1 end)\nkeybindPresets[\"mouse\"].keyUp.up.Add(function () ship.direction.z = 0 end)\nkeybindPresets[\"mouse\"].keyDown.down.Add(function () ship.direction.z = 1 end)\nkeybindPresets[\"mouse\"].keyUp.down.Add(function () ship.direction.z = 0 end)\n\nkeybindPresets[\"mouse\"].keyDown.yawleft.Add(function () ship.direction.x = 1 end)\nkeybindPresets[\"mouse\"].keyUp.yawleft.Add(function () ship.direction.x = 0 end)\nkeybindPresets[\"mouse\"].keyDown.yawright.Add(function () ship.direction.x = -1 end)\nkeybindPresets[\"mouse\"].keyUp.yawright.Add(function () ship.direction.x = 0 end)\n\nkeybindPresets[\"mouse\"].keyDown.forward.Add(function () ship.direction.y = 1 end)\nkeybindPresets[\"mouse\"].keyUp.forward.Add(function () ship.direction.y = 0 end)\nkeybindPresets[\"mouse\"].keyDown.backward.Add(function () ship.direction.y = -1 end)\nkeybindPresets[\"mouse\"].keyUp.backward.Add(function () ship.direction.y = 0 end)\n\nkeybindPresets[\"mouse\"].keyDown.left.Add(function () ship.rotation.y = -1 end)\nkeybindPresets[\"mouse\"].keyUp.left.Add(function () ship.rotation.y = 0 end)\nkeybindPresets[\"mouse\"].keyDown.right.Add(function () ship.rotation.y = 1 end)\nkeybindPresets[\"mouse\"].keyUp.right.Add(function () ship.rotation.y = 0 end)\n\nkeybindPresets[\"mouse\"].keyDown.brake.Add(function () ship.brake = true end)\nkeybindPresets[\"mouse\"].keyUp.brake.Add(function () ship.brake = false end)\n\n--keybindPresets[\"mouse\"].keyDown.stopengines.Add(function () if not SHUD.Enabled then mouse.unlock() mouse.enabled = false end end, \"Free Look\")\nkeybindPresets[\"mouse\"].keyUp.stopengines.Add(function () SHUD.Select() if not SHUD.Enabled then goButton() end end, \"Go Button\")\n\nkeybindPresets[\"mouse\"].keyUp.speedup.Add(function () SHUD.Enabled = not SHUD.Enabled end)\nkeybindPresets[\"mouse\"].keyUp.speeddown.Add(function () if mouse.enabled then mouse.unlock() mouse.enabled = false else mouse.lock() mouse.enabled = true end end, \"Keyboard\")\n\n--keybindPresets[\"mouse\"].keyDown.lshift.Add(function () system.freeze( math.abs(1 - system.isFrozen())) end,\"Freeze character\")\n\nkeybindPresets[\"mouse\"].keyUp.gear.Add(function () ship.holdAlt = not ship.holdAlt ship.counterGravity = ship.holdAlt end)\n\nkeybindPresets[\"mouse\"].keyUp[\"option3\"].Add(function () ship.followTerrain = not ship.followTerrain end, \"Follow Terrain\")\nkeybindPresets[\"mouse\"].keyUp[\"option4\"].Add(function () ship.counterGravity = not ship.counterGravity end, \"Counter Gravity\")\nkeybindPresets[\"mouse\"].keyUp[\"option5\"].Add(function () switchFlightMode(\"keyboard\") end, \"Switch Flight Mode\")\nkeybindPresets[\"mouse\"].keyUp[\"option6\"].Add(function () ship.inertialDampening = not ship.inertialDampening end, \"Inertial Dampening\")\n--keybindPresets[\"mouse\"].keyUp[\"option6\"].Add(function () switchControlMode() end, \"Alternate Control Mode Switch\")\n\n\n\nif flightModeDb then\n   if flightModeDb.hasKey(\"flightMode\") == 0 then flightModeDb.setStringValue(\"flightMode\",\"keyboard\") end\n   keybindPreset = flightModeDb.getStringValue(\"flightMode\")\nelse\n   system.print(\"No databank installed.\")\n   keybindPreset = \"keyboard\"\nend\nkeybindPreset = \"keyboard\"\n\nSHUD.Init(system, unit, keybindPresets[keybindPreset])\n\nTask(function()\n    coroutine.yield()\n    SHUD.FreezeUpdate = true\n    local endTime = system.getTime() + 2\n    while system.getTime() < endTime do\n            coroutine.yield()\n    end\n    SHUD.FreezeUpdate = false\n    SHUD.IntroPassed = true\nend)\n\n\nsystem.freeze(1)\nship.frozen = false\n--ship.throttle = 0\ncontrolStateChange = true\n\nfunction normalizeTravelMode()\n\tif ship.controlMode == 1 and controlStateChange then\n\t\tship.cruiseSpeed = round(ship.world.velocity:len() * 3.6,-1)\n\t\tship.throttle = 0\n\t\tcontrolStateChange = false\n\tend\n\tif ship.controlMode == 0 then\n\t\tcontrolStateChange = true\n\tend\nend\n\t\t\nfunction autoLandingGear()\n\tif ship.world.velocity:len() >= 83.3333 then\n\t\tunit.retractLandingGears()\n\telse\n\t\tunit.extendLandingGears()\n\tend\nend\n\n--unit.setTimer(\"console\",0.5)\n\nfunction round(num, numDecimalPlaces)\nlocal mult = 10^(numDecimalPlaces or 0)\nreturn math.floor(num * mult + 0.5) / mult\nend",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "25"
        }, {
            "code": "--@require Atlas\n--@require PlanetRefMin\n--@require KinematicsMin\n--@require SimpleSlotDetector\n--@require EventDelegateMin\n--@require TaskManagerMin\n--@require DynamicDocumentMin\n--@require DUTTYMin\n--@require CSS_SHUD\n--@require FuelTankHelperMin\n--@require TagManagerMin\n--@require KeybindControllerMin\n--@require STEC\n--@require AR_HUDMin\n--@require StartupSettings\n--@require SHUD\n--@require MouseMovement\n--@require STEC_Config\n--@timer SHUDRender\n--@timer FuelStatus\n--@class Main\n\n_G.BuildUnit = {}\nlocal Unit = _G.BuildUnit\n_G.BuildSystem = {}\nlocal System = _G.BuildSystem\nlocal target = ship.nearestPlanet:convertToWorldCoordinates(\"::pos{0,2,-4.4959,94.7546,7.1890}\")\nfunction checkLeash()\n    \t--local dist = (ship.world.position - target):len()\n         --system.print(\"Distance from Track: \"..round2(dist)..\"m\")\n         --if dist >= 3000 then unit.exit() end\nend\nfunction Unit.Start()\n\tEvents.Flush.Add(mouse.apply)\n\tEvents.Flush.Add(ship.apply)\n\tEvents.Update.Add(SHUD.Update)\n\tgetFuelRenderedHtml()\n\t\n\tlocal sName = \"\"\n\tlocal coreMass = core.getMass()\n\tif emitter ~= nil then\n\t\tsystem.print(\"Emitter Range: \"..emitter.getRange())\n\tend\n\tif activateFFonStart then\n\t\tif next(manualSwitches) ~= nil then \n\t\t\tfor _, sw in ipairs(manualSwitches) do\n\t\t\t\tsw.activate()\n\t\t\tend\n\t\tend\n\tend\n\tsystem.print(unit.getMasterPlayerId())\n\tunit.setTimer(\"SHUDRender\", 0.02)\n\tunit.setTimer(\"FuelStatus\", 3)\n\tunit.setTimer(\"SetHoverHeight\", 1)\n\tif laser ~= nil then laser.deactivate() end\n\n\tsystem.print([[Horizon 1.2.1.11_6]])\n\tif showDockingWidget then\n\t\tparentingPanelId = system.createWidgetPanel(\"Docking\")\n\t\tparentingWidgetId = system.createWidget(parentingPanelId,\"parenting\")\n\t\tsystem.addDataToWidget(unit.getDataId(),parentingWidgetId)\n\tend\n\tstartupSettings.readFromDatabank()\n    \n    checkLeash()\nend\n\n\n\nfunction Unit.Stop()\n\tsystem.showScreen(0)\n\tif laser ~= nil then laser.deactivate() end\n\tif next(manualSwitches) ~= nil then \n\t\tfor _, sw in ipairs(manualSwitches) do\n\t\t\tsw.deactivate()\n\t\tend\n\tend\n\tfor _, sw in ipairs(forceFields) do\n\t\tsw.deactivate()\n\tend\n\tstartupSettings.writeToDatabank()\nend\n\nlocal emitterOn = false\nlocal tmpClamp = ship.dockingClamps\n\n\n\nfunction Unit.Tick(timer)\n\tif timer == \"SHUDRender\" then\n\t\tif screen == nil then\n\t\t\tif SHUD then SHUD.Render() end\n\t\telseif manualControl then\n\t\t\tif SHUD then SHUD.Render() end\n\t\t\tif enableARReticle then updateAR() end\n\t\telse\n\t\t\t\n\t\tend\n\t\tif screen ~= nil then ElevatorScreen() end\n\tend\n\tif timer == \"FuelStatus\" then\n        getFuelRenderedHtml()\n        checkLeash()\n\tend\nend\n\nfunction System.ActionStart(action)\n\tkeybindPresets[keybindPreset].Call(action, \"down\")\nend\n\nfunction System.ActionStop(action)\n\tkeybindPresets[keybindPreset].Call(action, \"up\")\nend\n\nfunction System.InputText(action)\n\tif DUTTY then DUTTY.input(action) end\nend\n\nfunction System.ActionLoop(action) \nend\n\nfunction System.Update()\n\tif Events then Events.Update() end\n\tTaskManager.Update()\nend\n\nfunction System.Flush()\n\tif Events then Events.Flush() end\nend\n\nfunction toggleVerticalLock()\n\t--ship.verticalLock = true\n    ship.lockVector = vec3(core.getConstructWorldOrientationUp())\n    ship.lockPos = vec3(core.getConstructWorldPos()) + (vec3(core.getConstructWorldOrientationUp()))\nend",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "26"
        }, {
            "code": "_G.BuildUnit.Start()",
            "filter": {
                "args": [],
                "signature": "start()",
                "slotKey": "-1"
            },
            "key": "27"
        }, {
            "code": "_G.BuildUnit.Stop()",
            "filter": {
                "args": [],
                "signature": "stop()",
                "slotKey": "-1"
            },
            "key": "28"
        }, {
            "code": "_G.BuildUnit.Tick(\"SHUDRender\")",
            "filter": {
                "args": [{
                        "value": "SHUDRender"
                    }
                ],
                "signature": "tick(timerId)",
                "slotKey": "-1"
            },
            "key": "29"
        }, {
            "code": "_G.BuildUnit.Tick(\"FuelStatus\")",
            "filter": {
                "args": [{
                        "value": "FuelStatus"
                    }
                ],
                "signature": "tick(timerId)",
                "slotKey": "-1"
            },
            "key": "30"
        }, {
            "code": "_G.BuildSystem.ActionStart(action)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }
                ],
                "signature": "actionStart(action)",
                "slotKey": "-4"
            },
            "key": "31"
        }, {
            "code": "_G.BuildSystem.ActionStop(action)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }
                ],
                "signature": "actionStop(action)",
                "slotKey": "-4"
            },
            "key": "32"
        }, {
            "code": "_G.BuildSystem.InputText(action)",
            "filter": {
                "args": [{
                        "variable": "*"
                    }
                ],
                "signature": "inputText(action)",
                "slotKey": "-4"
            },
            "key": "33"
        }, {
            "code": "_G.BuildSystem.Update()",
            "filter": {
                "args": [],
                "signature": "update()",
                "slotKey": "-4"
            },
            "key": "34"
        }, {
            "code": "_G.BuildSystem.Flush()",
            "filter": {
                "args": [],
                "signature": "flush()",
                "slotKey": "-4"
            },
            "key": "35"
        }
    ],
    "methods": [],
    "events": []
}
